"use strict";(self.webpackChunkklea_merkuri_portofolio=self.webpackChunkklea_merkuri_portofolio||[]).push([[352],{5825:function(e,t,r){var n=r(4994);t.A=void 0;var o=n(r(2032)),s=r(4848);t.A=(0,o.default)((0,s.jsx)("path",{d:"M6 19h12v2H6z"}),"Minimize")},443:function(e,t,r){var n=r(4994);t.A=void 0;var o=n(r(2032)),s=r(4848);t.A=(0,o.default)((0,s.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},9799:function(e,t,r){r.d(t,{A:function(){return v}});var n=r(8587),o=r(8168),s=r(6540),i=r(4164),a=r(5659),l=r(1848),c=r(5607),u=r(2850),d=r(8413),h=r(1609);function p(e){return(0,h.Ay)("MuiList",e)}(0,d.A)("MuiList",["root","padding","dense","subheader"]);var f=r(4848);const m=["children","className","component","dense","disablePadding","subheader"],g=(0,l.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})((({ownerState:e})=>(0,o.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})));var v=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiList"}),{children:l,className:d,component:h="ul",dense:v=!1,disablePadding:b=!1,subheader:y}=r,w=(0,n.A)(r,m),A=s.useMemo((()=>({dense:v})),[v]),_=(0,o.A)({},r,{component:h,dense:v,disablePadding:b}),k=(e=>{const{classes:t,disablePadding:r,dense:n,subheader:o}=e,s={root:["root",!r&&"padding",n&&"dense",o&&"subheader"]};return(0,a.A)(s,p,t)})(_);return(0,f.jsx)(u.A.Provider,{value:A,children:(0,f.jsxs)(g,(0,o.A)({as:h,className:(0,i.A)(k.root,d),ref:t,ownerState:_},w,{children:[y,l]}))})}))},2850:function(e,t,r){const n=r(6540).createContext({});t.A=n},538:function(e,t,r){r.d(t,{A:function(){return b}});var n=r(8587),o=r(8168),s=r(6540),i=r(4164),a=r(5659),l=r(771),c=r(1848);var u=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)},d=r(5607),h=r(8413),p=r(1609);function f(e){return(0,p.Ay)("MuiPaper",e)}(0,h.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var m=r(4848);const g=["className","component","elevation","square","variant"],v=(0,c.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,"elevation"===r.variant&&t[`elevation${r.elevation}`]]}})((({theme:e,ownerState:t})=>{var r;return(0,o.A)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,o.A)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,l.X4)("#fff",u(t.elevation))}, ${(0,l.X4)("#fff",u(t.elevation))})`},e.vars&&{backgroundImage:null==(r=e.vars.overlays)?void 0:r[t.elevation]}))}));var b=s.forwardRef((function(e,t){const r=(0,d.b)({props:e,name:"MuiPaper"}),{className:s,component:l="div",elevation:c=1,square:u=!1,variant:h="elevation"}=r,p=(0,n.A)(r,g),b=(0,o.A)({},r,{component:l,elevation:c,square:u,variant:h}),y=(e=>{const{square:t,elevation:r,variant:n,classes:o}=e,s={root:["root",n,!t&&"rounded","elevation"===n&&`elevation${r}`]};return(0,a.A)(s,f,o)})(b);return(0,m.jsx)(v,(0,o.A)({as:l,ownerState:b,className:(0,i.A)(y.root,s),ref:t},p))}))},4073:function(e,t,r){r.d(t,{A:function(){return w}});var n=r(8587),o=r(8168),s=r(6540),i=r(4164),a=r(9599),l=r(5659),c=r(1848),u=r(5607),d=r(8466),h=r(8413),p=r(1609);function f(e){return(0,p.Ay)("MuiTypography",e)}(0,h.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var m=r(4848);const g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=(0,c.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t[`align${(0,d.A)(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,o.A)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"};var w=s.forwardRef((function(e,t){const r=(0,u.b)({props:e,name:"MuiTypography"}),s=(e=>y[e]||e)(r.color),c=(0,a.A)((0,o.A)({},r,{color:s})),{align:h="inherit",className:p,component:w,gutterBottom:A=!1,noWrap:_=!1,paragraph:k=!1,variant:S="body1",variantMapping:x=b}=c,T=(0,n.A)(c,g),E=(0,o.A)({},c,{align:h,color:s,className:p,component:w,gutterBottom:A,noWrap:_,paragraph:k,variant:S,variantMapping:x}),C=w||(k?"p":x[S]||b[S])||"span",R=(e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:s,classes:i}=e,a={root:["root",s,"inherit"!==e.align&&`align${(0,d.A)(t)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return(0,l.A)(a,f,i)})(E);return(0,m.jsx)(v,(0,o.A)({as:C,ref:t,ownerState:E,className:(0,i.A)(R.root,p)},T))}))},907:function(e,t,r){r.r(t),r.d(t,{Headers:function(){return s},Request:function(){return i},Response:function(){return a},fetch:function(){return o}});var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();const o=n.fetch;t.default=n.fetch.bind(n);const s=n.Headers,i=n.Request,a=n.Response},4279:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(907)),s=n(r(6818));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=o.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,r,n;let o=null,i=null,a=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&s&&s.length>1&&(a=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(o={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,a=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(i=[],o=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):o={message:t}}if(o&&this.isMaybeSingle&&(null===(n=null==o?void 0:o.details)||void 0===n?void 0:n.includes("0 rows"))&&(o=null,l=200,c="OK"),o&&this.shouldThrowOnError)throw new s.default(o)}return{error:o,data:i,count:a,status:l,statusText:c}}));return this.shouldThrowOnError||(r=r.catch((e=>{var t,r,n;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(n=null==e?void 0:e.code)&&void 0!==n?n:""}`},data:null,count:null,status:0,statusText:""}}))),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},1961:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(5045)),s=n(r(3825)),i=r(3530);class a{constructor(e,{headers:t={},schema:r,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL(`${this.url}/${e}`);return new o.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:n=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${e}`);let l;r||n?(i=r?"HEAD":"GET",Object.entries(t).filter((([e,t])=>void 0!==t)).map((([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`])).forEach((([e,t])=>{a.searchParams.append(e,t)}))):(i="POST",l=t);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new s.default({method:i,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=a},6818:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},3825:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(8261));class s extends o.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let o="";"plain"===n?o="pl":"phrase"===n?o="ph":"websearch"===n&&(o="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}t.default=s},5045:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(3825));t.default=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=t,this.schema=r,this.fetch=n}select(e,{head:t=!1,count:r}={}){const n=t?"HEAD":"GET";let s=!1;const i=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e))).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new o.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){const i=[`resolution=${r?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new o.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new o.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new o.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},8261:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(4279));class s extends o.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:o=n}={}){const s=o?`${o}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const o=void 0===n?"offset":`${n}.offset`,s=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:o=!1,format:s="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},3530:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(4519);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`}},2279:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const o=n(r(1961));t.PostgrestClient=o.default;const s=n(r(5045));t.PostgrestQueryBuilder=s.default;const i=n(r(3825));t.PostgrestFilterBuilder=i.default;const a=n(r(8261));t.PostgrestTransformBuilder=a.default;const l=n(r(4279));t.PostgrestBuilder=l.default;const c=n(r(6818));t.PostgrestError=c.default,t.default={PostgrestClient:o.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default}},4519:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},5352:function(e,t,r){r.r(t),r.d(t,{default:function(){return ii}});var n=r(6540),o=r(3357),s=r(7437),i=r(9067),a=r(8168),l=r(8587),c=r(4164),u=r(5659),d=r(1848),h=r(5607),p=r(538),f=r(8413),m=r(1609);function g(e){return(0,m.Ay)("MuiCard",e)}(0,f.A)("MuiCard",["root"]);var v=r(4848);const b=["className","raised"],y=(0,d.Ay)(p.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"})));var w=n.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiCard"}),{className:n,raised:o=!1}=r,s=(0,l.A)(r,b),i=(0,a.A)({},r,{raised:o}),d=(e=>{const{classes:t}=e;return(0,u.A)({root:["root"]},g,t)})(i);return(0,v.jsx)(y,(0,a.A)({className:(0,c.A)(d.root,n),elevation:o?8:void 0,ref:t,ownerState:i},s))}));function A(e){return(0,m.Ay)("MuiCardContent",e)}(0,f.A)("MuiCardContent",["root"]);const _=["className","component"],k=(0,d.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var S=n.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiCardContent"}),{className:n,component:o="div"}=r,s=(0,l.A)(r,_),i=(0,a.A)({},r,{component:o}),d=(e=>{const{classes:t}=e;return(0,u.A)({root:["root"]},A,t)})(i);return(0,v.jsx)(k,(0,a.A)({as:o,className:(0,c.A)(d.root,n),ownerState:i,ref:t},s))})),x=r(4073),T=r(1641),E=r(771);function C(e){return(0,m.Ay)("MuiDivider",e)}(0,f.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const R=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],P=(0,d.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,a.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,E.X4)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({ownerState:e})=>(0,a.A)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})),(({theme:e,ownerState:t})=>(0,a.A)({},t.children&&"vertical"!==t.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}})),(({theme:e,ownerState:t})=>(0,a.A)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}})),(({ownerState:e})=>(0,a.A)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),j=(0,d.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,a.A)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}))),O=n.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiDivider"}),{absolute:n=!1,children:o,className:s,component:i=(o?"div":"hr"),flexItem:d=!1,light:p=!1,orientation:f="horizontal",role:m=("hr"!==i?"separator":void 0),textAlign:g="center",variant:b="fullWidth"}=r,y=(0,l.A)(r,R),w=(0,a.A)({},r,{absolute:n,component:i,flexItem:d,light:p,orientation:f,role:m,textAlign:g,variant:b}),A=(e=>{const{absolute:t,children:r,classes:n,flexItem:o,light:s,orientation:i,textAlign:a,variant:l}=e,c={root:["root",t&&"absolute",l,s&&"light","vertical"===i&&"vertical",o&&"flexItem",r&&"withChildren",r&&"vertical"===i&&"withChildrenVertical","right"===a&&"vertical"!==i&&"textAlignRight","left"===a&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]};return(0,u.A)(c,C,n)})(w);return(0,v.jsx)(P,(0,a.A)({as:i,className:(0,c.A)(A.root,s),role:m,ref:t,ownerState:w},y,{children:o?(0,v.jsx)(j,{className:A.wrapper,ownerState:w,children:o}):null}))}));O.muiSkipListHighlight=!0;var I=O,$=r(4661),L=r(1317),N=r(9453),M=r(2197),F=r(1523),D=r(4877),U=r(1529),B=r(4705);const z=["onChange","maxRows","minRows","style","value"];function W(e){return parseInt(e,10)||0}const q={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};var H=n.forwardRef((function(e,t){const{onChange:r,maxRows:o,minRows:s=1,style:i,value:c}=e,u=(0,l.A)(e,z),{current:d}=n.useRef(null!=c),h=n.useRef(null),p=(0,F.A)(t,h),f=n.useRef(null),m=n.useRef(null),g=n.useCallback((()=>{const t=h.current,r=(0,D.A)(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};const n=m.current;n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const i=r.boxSizing,a=W(r.paddingBottom)+W(r.paddingTop),l=W(r.borderBottomWidth)+W(r.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let d=c;s&&(d=Math.max(Number(s)*u,d)),o&&(d=Math.min(Number(o)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===i?a+l:0),overflowing:Math.abs(d-c)<=1}}),[o,s,e.placeholder]),b=n.useCallback((()=>{const e=g();if(null==(t=e)||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const r=e.outerHeightStyle,n=h.current;f.current!==r&&(f.current=r,n.style.height=`${r}px`),n.style.overflow=e.overflowing?"hidden":""}),[g]);(0,U.A)((()=>{const e=()=>{b()};let t;const r=(0,B.A)(e),n=h.current,o=(0,D.A)(n);let s;return o.addEventListener("resize",r),"undefined"!=typeof ResizeObserver&&(s=new ResizeObserver(e),s.observe(n)),()=>{r.clear(),cancelAnimationFrame(t),o.removeEventListener("resize",r),s&&s.disconnect()}}),[g,b]),(0,U.A)((()=>{b()}));return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)("textarea",(0,a.A)({value:c,onChange:e=>{d||b(),r&&r(e)},ref:p,rows:s,style:i},u)),(0,v.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:(0,a.A)({},q,i,{paddingTop:0,paddingBottom:0})})]})}));function J({props:e,states:t,muiFormControl:r}){return t.reduce(((t,n)=>(t[n]=e[n],r&&void 0===e[n]&&(t[n]=r[n]),t)),{})}var K=n.createContext(void 0);function V(){return n.useContext(K)}var G=r(8466),X=r(6852),Y=r(2778),Z=r(9940),Q=r(2791);var ee=function({styles:e,themeId:t,defaultTheme:r={}}){const n=(0,Q.A)(r),o="function"==typeof e?e(t&&n[t]||n):e;return(0,v.jsx)(Z.A,{styles:o})},te=r(2765),re=r(8312);var ne=function(e){return(0,v.jsx)(ee,(0,a.A)({},e,{defaultTheme:te.A,themeId:re.A}))};function oe(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function se(e,t=!1){return e&&(oe(e.value)&&""!==e.value||t&&oe(e.defaultValue)&&""!==e.defaultValue)}function ie(e){return(0,m.Ay)("MuiInputBase",e)}var ae=(0,f.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);const le=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],ce=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,"small"===r.size&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${(0,G.A)(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},ue=(e,t)=>{const{ownerState:r}=e;return[t.input,"small"===r.size&&t.inputSizeSmall,r.multiline&&t.inputMultiline,"search"===r.type&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},de=(0,d.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ce})((({theme:e,ownerState:t})=>(0,a.A)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ae.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&(0,a.A)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),he=(0,d.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ue})((({theme:e,ownerState:t})=>{const r="light"===e.palette.mode,n=(0,a.A)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,a.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ae.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${ae.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})})),pe=(0,v.jsx)(ne,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),fe=n.forwardRef((function(e,t){var r;const o=(0,h.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:i,autoFocus:d,className:p,components:f={},componentsProps:m={},defaultValue:g,disabled:b,disableInjectingGlobalStyles:y,endAdornment:w,fullWidth:A=!1,id:_,inputComponent:k="input",inputProps:S={},inputRef:x,maxRows:T,minRows:E,multiline:C=!1,name:R,onBlur:P,onChange:j,onClick:O,onFocus:I,onKeyDown:$,onKeyUp:L,placeholder:F,readOnly:D,renderSuffix:U,rows:B,slotProps:z={},slots:W={},startAdornment:q,type:Z="text",value:Q}=o,ee=(0,l.A)(o,le),te=null!=S.value?S.value:Q,{current:re}=n.useRef(null!=te),ne=n.useRef(),oe=n.useCallback((e=>{0}),[]),ae=(0,X.A)(ne,x,S.ref,oe),[ce,ue]=n.useState(!1),fe=V();const me=J({props:o,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});me.focused=fe?fe.focused:ce,n.useEffect((()=>{!fe&&b&&ce&&(ue(!1),P&&P())}),[fe,b,ce,P]);const ge=fe&&fe.onFilled,ve=fe&&fe.onEmpty,be=n.useCallback((e=>{se(e)?ge&&ge():ve&&ve()}),[ge,ve]);(0,Y.A)((()=>{re&&be({value:te})}),[te,be,re]);n.useEffect((()=>{be(ne.current)}),[]);let ye=k,we=S;C&&"input"===ye&&(we=B?(0,a.A)({type:void 0,minRows:B,maxRows:B},we):(0,a.A)({type:void 0,maxRows:T,minRows:E},we),ye=H);n.useEffect((()=>{fe&&fe.setAdornedStart(Boolean(q))}),[fe,q]);const Ae=(0,a.A)({},o,{color:me.color||"primary",disabled:me.disabled,endAdornment:w,error:me.error,focused:me.focused,formControl:fe,fullWidth:A,hiddenLabel:me.hiddenLabel,multiline:C,size:me.size,startAdornment:q,type:Z}),_e=(e=>{const{classes:t,color:r,disabled:n,error:o,endAdornment:s,focused:i,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:h,size:p,startAdornment:f,type:m}=e,g={root:["root",`color${(0,G.A)(r)}`,n&&"disabled",o&&"error",l&&"fullWidth",i&&"focused",a&&"formControl",p&&"medium"!==p&&`size${(0,G.A)(p)}`,d&&"multiline",f&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel",h&&"readOnly"],input:["input",n&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===p&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return(0,u.A)(g,ie,t)})(Ae),ke=W.root||f.Root||de,Se=z.root||m.root||{},xe=W.input||f.Input||he;return we=(0,a.A)({},we,null!=(r=z.input)?r:m.input),(0,v.jsxs)(n.Fragment,{children:[!y&&pe,(0,v.jsxs)(ke,(0,a.A)({},Se,!(0,M.A)(ke)&&{ownerState:(0,a.A)({},Ae,Se.ownerState)},{ref:t,onClick:e=>{ne.current&&e.currentTarget===e.target&&ne.current.focus(),O&&O(e)}},ee,{className:(0,c.A)(_e.root,Se.className,p,D&&"MuiInputBase-readOnly"),children:[q,(0,v.jsx)(K.Provider,{value:null,children:(0,v.jsx)(xe,(0,a.A)({ownerState:Ae,"aria-invalid":me.error,"aria-describedby":s,autoComplete:i,autoFocus:d,defaultValue:g,disabled:me.disabled,id:_,onAnimationStart:e=>{be("mui-auto-fill-cancel"===e.animationName?ne.current:{value:"x"})},name:R,placeholder:F,readOnly:D,required:me.required,rows:B,value:te,onKeyDown:$,onKeyUp:L,type:Z},we,!(0,M.A)(xe)&&{as:ye,ownerState:(0,a.A)({},Ae,we.ownerState)},{ref:ae,className:(0,c.A)(_e.input,we.className,D&&"MuiInputBase-readOnly"),onBlur:e=>{P&&P(e),S.onBlur&&S.onBlur(e),fe&&fe.onBlur?fe.onBlur(e):ue(!1)},onChange:(e,...t)=>{if(!re){const t=e.target||ne.current;if(null==t)throw new Error((0,N.A)(1));be({value:t.value})}S.onChange&&S.onChange(e,...t),j&&j(e,...t)},onFocus:e=>{me.disabled?e.stopPropagation():(I&&I(e),S.onFocus&&S.onFocus(e),fe&&fe.onFocus?fe.onFocus(e):ue(!0))}}))}),w,U?U((0,a.A)({},me,{startAdornment:q})):null]}))]})}));var me=fe,ge=r(9770);function ve(e){return(0,m.Ay)("MuiInput",e)}var be=(0,a.A)({},ae,(0,f.A)("MuiInput",["root","underline","input"]));const ye=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],we=(0,d.Ay)(de,{shouldForwardProp:e=>(0,ge.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...ce(e,t),!r.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{let r="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(r=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),(0,a.A)({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${be.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${be.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${be.disabled}, .${be.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${be.disabled}:before`]:{borderBottomStyle:"dotted"}})})),Ae=(0,d.Ay)(he,{name:"MuiInput",slot:"Input",overridesResolver:ue})({}),_e=n.forwardRef((function(e,t){var r,n,o,s;const i=(0,h.b)({props:e,name:"MuiInput"}),{disableUnderline:c,components:d={},componentsProps:p,fullWidth:f=!1,inputComponent:m="input",multiline:g=!1,slotProps:b,slots:y={},type:w="text"}=i,A=(0,l.A)(i,ye),_=(e=>{const{classes:t,disableUnderline:r}=e,n={root:["root",!r&&"underline"],input:["input"]},o=(0,u.A)(n,ve,t);return(0,a.A)({},t,o)})(i),k={root:{ownerState:{disableUnderline:c}}},S=(null!=b?b:p)?(0,L.A)(null!=b?b:p,k):k,x=null!=(r=null!=(n=y.root)?n:d.Root)?r:we,T=null!=(o=null!=(s=y.input)?s:d.Input)?o:Ae;return(0,v.jsx)(me,(0,a.A)({slots:{root:x,input:T},slotProps:S,fullWidth:f,inputComponent:m,multiline:g,ref:t,type:w},A,{classes:_}))}));_e.muiName="Input";var ke=_e;function Se(e){return(0,m.Ay)("MuiFilledInput",e)}var xe=(0,a.A)({},ae,(0,f.A)("MuiFilledInput",["root","underline","input"]));const Te=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Ee=(0,d.Ay)(de,{shouldForwardProp:e=>(0,ge.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...ce(e,t),!r.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{var r;const n="light"===e.palette.mode,o=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,a.A)({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s}},[`&.${xe.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:s},[`&.${xe.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(e.vars||e).palette[t.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xe.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xe.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xe.disabled}, .${xe.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${xe.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&(0,a.A)({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))})),Ce=(0,d.Ay)(he,{name:"MuiFilledInput",slot:"Input",overridesResolver:ue})((({theme:e,ownerState:t})=>(0,a.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}))),Re=n.forwardRef((function(e,t){var r,n,o,s;const i=(0,h.b)({props:e,name:"MuiFilledInput"}),{components:c={},componentsProps:d,fullWidth:p=!1,inputComponent:f="input",multiline:m=!1,slotProps:g,slots:b={},type:y="text"}=i,w=(0,l.A)(i,Te),A=(0,a.A)({},i,{fullWidth:p,inputComponent:f,multiline:m,type:y}),_=(e=>{const{classes:t,disableUnderline:r}=e,n={root:["root",!r&&"underline"],input:["input"]},o=(0,u.A)(n,Se,t);return(0,a.A)({},t,o)})(i),k={root:{ownerState:A},input:{ownerState:A}},S=(null!=g?g:d)?(0,L.A)(k,null!=g?g:d):k,x=null!=(r=null!=(n=b.root)?n:c.Root)?r:Ee,T=null!=(o=null!=(s=b.input)?s:c.Input)?o:Ce;return(0,v.jsx)(me,(0,a.A)({slots:{root:x,input:T},componentsProps:S,fullWidth:p,inputComponent:f,multiline:m,ref:t,type:y},w,{classes:_}))}));Re.muiName="Input";var Pe,je=Re;const Oe=["children","classes","className","label","notched"],Ie=(0,d.Ay)("fieldset",{shouldForwardProp:ge.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),$e=(0,d.Ay)("legend",{shouldForwardProp:ge.A})((({ownerState:e,theme:t})=>(0,a.A)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&(0,a.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}))));function Le(e){return(0,m.Ay)("MuiOutlinedInput",e)}var Ne=(0,a.A)({},ae,(0,f.A)("MuiOutlinedInput",["root","notchedOutline","input"]));const Me=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Fe=(0,d.Ay)(de,{shouldForwardProp:e=>(0,ge.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:ce})((({theme:e,ownerState:t})=>{const r="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,a.A)({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Ne.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ne.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Ne.focused} .${Ne.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Ne.error} .${Ne.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Ne.disabled} .${Ne.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&(0,a.A)({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))})),De=(0,d.Ay)((function(e){const{className:t,label:r,notched:n}=e,o=(0,l.A)(e,Oe),s=null!=r&&""!==r,i=(0,a.A)({},e,{notched:n,withLabel:s});return(0,v.jsx)(Ie,(0,a.A)({"aria-hidden":!0,className:t,ownerState:i},o,{children:(0,v.jsx)($e,{ownerState:i,children:s?(0,v.jsx)("span",{children:r}):Pe||(Pe=(0,v.jsx)("span",{className:"notranslate",children:"​"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((({theme:e})=>{const t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),Ue=(0,d.Ay)(he,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ue})((({theme:e,ownerState:t})=>(0,a.A)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0}))),Be=n.forwardRef((function(e,t){var r,o,s,i,c;const d=(0,h.b)({props:e,name:"MuiOutlinedInput"}),{components:p={},fullWidth:f=!1,inputComponent:m="input",label:g,multiline:b=!1,notched:y,slots:w={},type:A="text"}=d,_=(0,l.A)(d,Me),k=(e=>{const{classes:t}=e,r=(0,u.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Le,t);return(0,a.A)({},t,r)})(d),S=V(),x=J({props:d,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=(0,a.A)({},d,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:S,fullWidth:f,hiddenLabel:x.hiddenLabel,multiline:b,size:x.size,type:A}),E=null!=(r=null!=(o=w.root)?o:p.Root)?r:Fe,C=null!=(s=null!=(i=w.input)?i:p.Input)?s:Ue;return(0,v.jsx)(me,(0,a.A)({slots:{root:E,input:C},renderSuffix:e=>(0,v.jsx)(De,{ownerState:T,className:k.notchedOutline,label:null!=g&&""!==g&&x.required?c||(c=(0,v.jsxs)(n.Fragment,{children:[g," ","*"]})):g,notched:void 0!==y?y:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:f,inputComponent:m,multiline:b,ref:t,type:A},_,{classes:(0,a.A)({},k,{notchedOutline:null})}))}));Be.muiName="Input";var ze=Be;function We(e){return(0,m.Ay)("MuiFormLabel",e)}var qe=(0,f.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);const He=["children","className","color","component","disabled","error","filled","focused","required"],Je=(0,d.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,a.A)({},t.root,"secondary"===e.color&&t.colorSecondary,e.filled&&t.filled)})((({theme:e,ownerState:t})=>(0,a.A)({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${qe.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${qe.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${qe.error}`]:{color:(e.vars||e).palette.error.main}}))),Ke=(0,d.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((({theme:e})=>({[`&.${qe.error}`]:{color:(e.vars||e).palette.error.main}})));var Ve=n.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiFormLabel"}),{children:n,className:o,component:s="label"}=r,i=(0,l.A)(r,He),d=J({props:r,muiFormControl:V(),states:["color","required","focused","disabled","error","filled"]}),p=(0,a.A)({},r,{color:d.color||"primary",component:s,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),f=(e=>{const{classes:t,color:r,focused:n,disabled:o,error:s,filled:i,required:a}=e,l={root:["root",`color${(0,G.A)(r)}`,o&&"disabled",s&&"error",i&&"filled",n&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return(0,u.A)(l,We,t)})(p);return(0,v.jsxs)(Je,(0,a.A)({as:s,ownerState:p,className:(0,c.A)(f.root,o),ref:t},i,{children:[n,d.required&&(0,v.jsxs)(Ke,{ownerState:p,"aria-hidden":!0,className:f.asterisk,children:[" ","*"]})]}))}));function Ge(e){return(0,m.Ay)("MuiInputLabel",e)}(0,f.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Xe=["disableAnimation","margin","shrink","variant","className"],Ye=(0,d.Ay)(Ve,{shouldForwardProp:e=>(0,ge.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${qe.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,"small"===r.size&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})((({theme:e,ownerState:t})=>(0,a.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===t.variant&&(0,a.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,a.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,a.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))));var Ze=n.forwardRef((function(e,t){const r=(0,h.b)({name:"MuiInputLabel",props:e}),{disableAnimation:n=!1,shrink:o,className:s}=r,i=(0,l.A)(r,Xe),d=V();let p=o;void 0===p&&d&&(p=d.filled||d.focused||d.adornedStart);const f=J({props:r,muiFormControl:d,states:["size","variant","required","focused"]}),m=(0,a.A)({},r,{disableAnimation:n,formControl:d,shrink:p,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),g=(e=>{const{classes:t,formControl:r,size:n,shrink:o,disableAnimation:s,variant:i,required:l}=e,c={root:["root",r&&"formControl",!s&&"animated",o&&"shrink",n&&"normal"!==n&&`size${(0,G.A)(n)}`,i],asterisk:[l&&"asterisk"]},d=(0,u.A)(c,Ge,t);return(0,a.A)({},t,d)})(m);return(0,v.jsx)(Ye,(0,a.A)({"data-shrink":p,ownerState:m,ref:t,className:(0,c.A)(g.root,s)},i,{classes:g}))})),Qe=r(6767);function et(e){return(0,m.Ay)("MuiFormControl",e)}(0,f.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const tt=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],rt=(0,d.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,a.A)({},t.root,t[`margin${(0,G.A)(e.margin)}`],e.fullWidth&&t.fullWidth)})((({ownerState:e})=>(0,a.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})));var nt=n.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiFormControl"}),{children:o,className:s,color:i="primary",component:d="div",disabled:p=!1,error:f=!1,focused:m,fullWidth:g=!1,hiddenLabel:b=!1,margin:y="none",required:w=!1,size:A="medium",variant:_="outlined"}=r,k=(0,l.A)(r,tt),S=(0,a.A)({},r,{color:i,component:d,disabled:p,error:f,fullWidth:g,hiddenLabel:b,margin:y,required:w,size:A,variant:_}),x=(e=>{const{classes:t,margin:r,fullWidth:n}=e,o={root:["root","none"!==r&&`margin${(0,G.A)(r)}`,n&&"fullWidth"]};return(0,u.A)(o,et,t)})(S),[T,E]=n.useState((()=>{let e=!1;return o&&n.Children.forEach(o,(t=>{if(!(0,Qe.A)(t,["Input","Select"]))return;const r=(0,Qe.A)(t,["Select"])?t.props.input:t;r&&r.props.startAdornment&&(e=!0)})),e})),[C,R]=n.useState((()=>{let e=!1;return o&&n.Children.forEach(o,(t=>{(0,Qe.A)(t,["Input","Select"])&&(se(t.props,!0)||se(t.props.inputProps,!0))&&(e=!0)})),e})),[P,j]=n.useState(!1);p&&P&&j(!1);const O=void 0===m||p?P:m;let I;const $=n.useMemo((()=>({adornedStart:T,setAdornedStart:E,color:i,disabled:p,error:f,filled:C,focused:O,fullWidth:g,hiddenLabel:b,size:A,onBlur:()=>{j(!1)},onEmpty:()=>{R(!1)},onFilled:()=>{R(!0)},onFocus:()=>{j(!0)},registerEffect:I,required:w,variant:_})),[T,i,p,f,C,O,g,b,I,w,A,_]);return(0,v.jsx)(K.Provider,{value:$,children:(0,v.jsx)(rt,(0,a.A)({as:d,ownerState:S,className:(0,c.A)(x.root,s),ref:t},k,{children:o}))})}));function ot(e){return(0,m.Ay)("MuiFormHelperText",e)}var st,it=(0,f.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);const at=["children","className","component","disabled","error","filled","focused","margin","required","variant"],lt=(0,d.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${(0,G.A)(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})((({theme:e,ownerState:t})=>(0,a.A)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${it.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${it.error}`]:{color:(e.vars||e).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})));var ct=n.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiFormHelperText"}),{children:n,className:o,component:s="p"}=r,i=(0,l.A)(r,at),d=J({props:r,muiFormControl:V(),states:["variant","size","disabled","error","filled","focused","required"]}),p=(0,a.A)({},r,{component:s,contained:"filled"===d.variant||"outlined"===d.variant,variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),f=(e=>{const{classes:t,contained:r,size:n,disabled:o,error:s,filled:i,focused:a,required:l}=e,c={root:["root",o&&"disabled",s&&"error",n&&`size${(0,G.A)(n)}`,r&&"contained",a&&"focused",i&&"filled",l&&"required"]};return(0,u.A)(c,ot,t)})(p);return(0,v.jsx)(lt,(0,a.A)({as:s,ownerState:p,className:(0,c.A)(f.root,o),ref:t},i,{children:" "===n?st||(st=(0,v.jsx)("span",{className:"notranslate",children:"​"})):n}))})),ut=r(7223),dt=r(6248),ht=r(3788),pt=r(1687),ft=r(9799);function mt(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var gt=mt;const vt=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function bt(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function yt(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function wt(e,t){if(void 0===t)return!0;let r=e.innerText;return void 0===r&&(r=e.textContent),r=r.trim().toLowerCase(),0!==r.length&&(t.repeating?r[0]===t.keys[0]:0===r.indexOf(t.keys.join("")))}function At(e,t,r,n,o,s){let i=!1,a=o(e,t,!!t&&r);for(;a;){if(a===e.firstChild){if(i)return!1;i=!0}const t=!n&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&wt(a,s)&&!t)return a.focus(),!0;a=o(e,a,r)}return!1}var _t=n.forwardRef((function(e,t){const{actions:r,autoFocus:o=!1,autoFocusItem:s=!1,children:i,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu"}=e,f=(0,l.A)(e,vt),m=n.useRef(null),g=n.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Y.A)((()=>{o&&m.current.focus()}),[o]),n.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,{direction:t})=>{const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const r=`${gt((0,dt.A)(e))}px`;m.current.style["rtl"===t?"paddingLeft":"paddingRight"]=r,m.current.style.width=`calc(100% + ${r})`}return m.current}})),[]);const b=(0,X.A)(m,t);let y=-1;n.Children.forEach(i,((e,t)=>{n.isValidElement(e)?(e.props.disabled||("selectedMenu"===p&&e.props.selected||-1===y)&&(y=t),y===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(y+=1,y>=i.length&&(y=-1))):y===t&&(y+=1,y>=i.length&&(y=-1))}));const w=n.Children.map(i,((e,t)=>{if(t===y){const t={};return s&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===p&&(t.tabIndex=0),n.cloneElement(e,t)}return e}));return(0,v.jsx)(ft.A,(0,a.A)({role:"menu",ref:b,className:c,onKeyDown:e=>{const t=m.current,r=e.key,n=(0,dt.A)(t).activeElement;if("ArrowDown"===r)e.preventDefault(),At(t,n,d,u,bt);else if("ArrowUp"===r)e.preventDefault(),At(t,n,d,u,yt);else if("Home"===r)e.preventDefault(),At(t,null,d,u,bt);else if("End"===r)e.preventDefault(),At(t,null,d,u,yt);else if(1===r.length){const o=g.current,s=r.toLowerCase(),i=performance.now();o.keys.length>0&&(i-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&s!==o.keys[0]&&(o.repeating=!1)),o.lastTime=i,o.keys.push(s);const a=n&&!o.repeating&&wt(n,o);o.previousKeyMatched&&(a||At(t,n,!1,u,bt,o))?e.preventDefault():o.previousKeyMatched=!1}h&&h(e)},tabIndex:o?0:-1},f,{children:w}))})),kt=r(1935),St=r(3749),xt=r(7467),Tt=r(2325);const Et=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ct(e){const t=[],r=[];return Array.from(e.querySelectorAll(Et)).forEach(((e,n)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}(e))}(e)&&(0===o?t.push(e):r.push({documentOrder:n,tabIndex:o,node:e}))})),r.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Rt(){return!0}var Pt=function(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:s=!1,getTabbable:i=Ct,isEnabled:a=Rt,open:l}=e,c=n.useRef(!1),u=n.useRef(null),d=n.useRef(null),h=n.useRef(null),p=n.useRef(null),f=n.useRef(!1),m=n.useRef(null),g=(0,F.A)((0,ut.A)(t),m),b=n.useRef(null);n.useEffect((()=>{l&&m.current&&(f.current=!r)}),[r,l]),n.useEffect((()=>{if(!l||!m.current)return;const e=(0,Tt.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{s||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),n.useEffect((()=>{if(!l||!m.current)return;const e=(0,Tt.A)(m.current),t=t=>{b.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},r=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let r=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(r=i(m.current)),r.length>0){var n,s;const e=Boolean((null==(n=b.current)?void 0:n.shiftKey)&&"Tab"===(null==(s=b.current)?void 0:s.key)),t=r[0],o=r[r.length-1];"string"!=typeof t&&"string"!=typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",r),e.addEventListener("keydown",t,!0);const n=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&r()}),50);return()=>{clearInterval(n),e.removeEventListener("focusin",r),e.removeEventListener("keydown",t,!0)}}),[r,o,s,a,l,i]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),n.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const r=t.props.onFocus;r&&r(e)}}),(0,v.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})},jt=r(5061),Ot=r(7353),It=r(4675),$t=r(5186);const Lt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Nt={entering:{opacity:1},entered:{opacity:1}};var Mt=n.forwardRef((function(e,t){const r=(0,It.A)(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:i=!0,children:c,easing:u,in:d,onEnter:h,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:b,style:y,timeout:w=o,TransitionComponent:A=Ot.Ay}=e,_=(0,l.A)(e,Lt),k=n.useRef(null),S=(0,X.A)(k,(0,ut.A)(c),t),x=e=>t=>{if(e){const r=k.current;void 0===t?e(r):e(r,t)}},T=x(f),E=x(((e,t)=>{(0,$t.q)(e);const n=(0,$t.c)({style:y,timeout:w,easing:u},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),h&&h(e,t)})),C=x(p),R=x(b),P=x((e=>{const t=(0,$t.c)({style:y,timeout:w,easing:u},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),j=x(g);return(0,v.jsx)(A,(0,a.A)({appear:i,in:d,nodeRef:k,onEnter:E,onEntered:C,onEntering:T,onExit:P,onExited:j,onExiting:R,addEndListener:e=>{s&&s(k.current,e)},timeout:w},_,{children:(e,t)=>n.cloneElement(c,(0,a.A)({style:(0,a.A)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},Nt[e],y,c.props.style),ref:S},t))}))}));function Ft(e){return(0,m.Ay)("MuiBackdrop",e)}(0,f.A)("MuiBackdrop",["root","invisible"]);const Dt=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ut=(0,d.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})((({ownerState:e})=>(0,a.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})));var Bt=n.forwardRef((function(e,t){var r,n,o;const s=(0,h.b)({props:e,name:"MuiBackdrop"}),{children:i,className:d,component:p="div",components:f={},componentsProps:m={},invisible:g=!1,open:b,slotProps:y={},slots:w={},TransitionComponent:A=Mt,transitionDuration:_}=s,k=(0,l.A)(s,Dt),S=(0,a.A)({},s,{component:p,invisible:g}),x=(e=>{const{classes:t,invisible:r}=e,n={root:["root",r&&"invisible"]};return(0,u.A)(n,Ft,t)})(S),T=null!=(r=y.root)?r:m.root;return(0,v.jsx)(A,(0,a.A)({in:b,timeout:_},k,{children:(0,v.jsx)(Ut,(0,a.A)({"aria-hidden":!0},T,{as:null!=(n=null!=(o=w.root)?o:f.Root)?n:p,className:(0,c.A)(x.root,d,null==T?void 0:T.className),ownerState:(0,a.A)({},S,null==T?void 0:T.ownerState),classes:x,ref:t,children:i}))}))})),zt=r(1547),Wt=r(6673),qt=r(4959);function Ht(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Jt(e){return parseInt((0,D.A)(e).getComputedStyle(e).paddingRight,10)||0}function Kt(e,t,r,n,o){const s=[t,r,...n];[].forEach.call(e.children,(e=>{const t=-1===s.indexOf(e),r=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),r="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||r}(e);t&&r&&Ht(e,o)}))}function Vt(e,t){let r=-1;return e.some(((e,n)=>!!t(e)&&(r=n,!0))),r}function Gt(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,Tt.A)(e);return t.body===e?(0,D.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(n)){const e=mt((0,Tt.A)(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${Jt(n)+e}px`;const t=(0,Tt.A)(n).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{r.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Jt(t)+e}px`}))}let e;if(n.parentNode instanceof DocumentFragment)e=(0,Tt.A)(n).body;else{const t=n.parentElement,r=(0,D.A)(n);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===r.getComputedStyle(t).overflowY?t:n}r.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{r.forEach((({value:e,el:t,property:r})=>{e?t.style.setProperty(r,e):t.style.removeProperty(r)}))}}const Xt=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Ht(e.modalRef,!1);const n=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Kt(t,e.mount,e.modalRef,n,!0);const o=Vt(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:n}),r)}mount(e,t){const r=Vt(this.containers,(t=>-1!==t.modals.indexOf(e))),n=this.containers[r];n.restore||(n.restore=Gt(n,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(-1===r)return r;const n=Vt(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[n];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&Ht(e.modalRef,t),Kt(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(n,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&Ht(e.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};var Yt=function(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,manager:s=Xt,closeAfterTransition:i=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:h,rootRef:p}=e,f=n.useRef({}),m=n.useRef(null),g=n.useRef(null),v=(0,F.A)(g,p),[b,y]=n.useState(!h),w=function(e){return!!e&&e.props.hasOwnProperty("in")}(u);let A=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(A=!1);const _=()=>(f.current.modalRef=g.current,f.current.mount=m.current,f.current),k=()=>{s.mount(_(),{disableScrollLock:o}),g.current&&(g.current.scrollTop=0)},S=(0,zt.A)((()=>{const e=function(e){return"function"==typeof e?e():e}(t)||(0,Tt.A)(m.current).body;s.add(_(),e),g.current&&k()})),x=n.useCallback((()=>s.isTopModal(_())),[s]),T=(0,zt.A)((e=>{m.current=e,e&&(h&&x()?k():g.current&&Ht(g.current,A))})),E=n.useCallback((()=>{s.remove(_(),A)}),[A,s]);n.useEffect((()=>()=>{E()}),[E]),n.useEffect((()=>{h?S():w&&i||E()}),[h,E,w,i,S]);const C=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&x()&&(r||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},R=e=>t=>{var r;null==(r=e.onClick)||r.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:(t={})=>{const r=(0,qt.A)(e);delete r.onTransitionEnter,delete r.onTransitionExited;const n=(0,a.A)({},r,t);return(0,a.A)({role:"presentation"},n,{onKeyDown:C(n),ref:v})},getBackdropProps:(e={})=>{const t=e;return(0,a.A)({"aria-hidden":!0},t,{onClick:R(t),open:h})},getTransitionProps:()=>({onEnter:(0,Wt.A)((()=>{y(!1),l&&l()}),null==u?void 0:u.props.onEnter),onExited:(0,Wt.A)((()=>{y(!0),c&&c(),i&&E()}),null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:T,isTopModal:x,exited:b,hasTransition:w}};function Zt(e){return(0,m.Ay)("MuiModal",e)}(0,f.A)("MuiModal",["root","hidden","backdrop"]);const Qt=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],er=(0,d.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})((({theme:e,ownerState:t})=>(0,a.A)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"}))),tr=(0,d.Ay)(Bt,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1});var rr=n.forwardRef((function(e,t){var r,o,s,i,d,p;const f=(0,h.b)({name:"MuiModal",props:e}),{BackdropComponent:m=tr,BackdropProps:g,className:b,closeAfterTransition:y=!1,children:w,container:A,component:_,components:k={},componentsProps:S={},disableAutoFocus:x=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:E=!1,disablePortal:C=!1,disableRestoreFocus:R=!1,disableScrollLock:P=!1,hideBackdrop:j=!1,keepMounted:O=!1,onBackdropClick:I,open:$,slotProps:L,slots:N}=f,M=(0,l.A)(f,Qt),F=(0,a.A)({},f,{closeAfterTransition:y,disableAutoFocus:x,disableEnforceFocus:T,disableEscapeKeyDown:E,disablePortal:C,disableRestoreFocus:R,disableScrollLock:P,hideBackdrop:j,keepMounted:O}),{getRootProps:D,getBackdropProps:U,getTransitionProps:B,portalRef:z,isTopModal:W,exited:q,hasTransition:H}=Yt((0,a.A)({},F,{rootRef:t})),J=(0,a.A)({},F,{exited:q}),K=(e=>{const{open:t,exited:r,classes:n}=e,o={root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]};return(0,u.A)(o,Zt,n)})(J),V={};if(void 0===w.props.tabIndex&&(V.tabIndex="-1"),H){const{onEnter:e,onExited:t}=B();V.onEnter=e,V.onExited=t}const G=null!=(r=null!=(o=null==N?void 0:N.root)?o:k.Root)?r:er,X=null!=(s=null!=(i=null==N?void 0:N.backdrop)?i:k.Backdrop)?s:m,Y=null!=(d=null==L?void 0:L.root)?d:S.root,Z=null!=(p=null==L?void 0:L.backdrop)?p:S.backdrop,Q=(0,pt.A)({elementType:G,externalSlotProps:Y,externalForwardedProps:M,getSlotProps:D,additionalProps:{ref:t,as:_},ownerState:J,className:(0,c.A)(b,null==Y?void 0:Y.className,null==K?void 0:K.root,!J.open&&J.exited&&(null==K?void 0:K.hidden))}),ee=(0,pt.A)({elementType:X,externalSlotProps:Z,additionalProps:g,getSlotProps:e=>U((0,a.A)({},e,{onClick:t=>{I&&I(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,c.A)(null==Z?void 0:Z.className,null==g?void 0:g.className,null==K?void 0:K.backdrop),ownerState:J});return O||$||H&&!q?(0,v.jsx)(jt.A,{ref:z,container:A,disablePortal:C,children:(0,v.jsxs)(G,(0,a.A)({},Q,{children:[!j&&m?(0,v.jsx)(X,(0,a.A)({},ee)):null,(0,v.jsx)(Pt,{disableEnforceFocus:T,disableAutoFocus:x,disableRestoreFocus:R,isEnabled:W,open:$,children:n.cloneElement(w,V)})]}))}):null}));function nr(e){return(0,m.Ay)("MuiPopover",e)}(0,f.A)("MuiPopover",["root","paper"]);const or=["onEntering"],sr=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ir=["slotProps"];function ar(e,t){let r=0;return"number"==typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function lr(e,t){let r=0;return"number"==typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function cr(e){return[e.horizontal,e.vertical].map((e=>"number"==typeof e?`${e}px`:e)).join(" ")}function ur(e){return"function"==typeof e?e():e}const dr=(0,d.Ay)(rr,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),hr=(0,d.Ay)(p.A,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0});var pr=n.forwardRef((function(e,t){var r,o,s;const i=(0,h.b)({props:e,name:"MuiPopover"}),{action:d,anchorEl:p,anchorOrigin:f={vertical:"top",horizontal:"left"},anchorPosition:m,anchorReference:g="anchorEl",children:b,className:y,container:w,elevation:A=8,marginThreshold:_=16,open:k,PaperProps:S={},slots:x,slotProps:T,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:C=xt.A,transitionDuration:R="auto",TransitionProps:{onEntering:P}={},disableScrollLock:j=!1}=i,O=(0,l.A)(i.TransitionProps,or),I=(0,l.A)(i,sr),$=null!=(r=null==T?void 0:T.paper)?r:S,L=n.useRef(),N=(0,X.A)(L,$.ref),F=(0,a.A)({},i,{anchorOrigin:f,anchorReference:g,elevation:A,marginThreshold:_,externalPaperSlotProps:$,transformOrigin:E,TransitionComponent:C,transitionDuration:R,TransitionProps:O}),D=(e=>{const{classes:t}=e;return(0,u.A)({root:["root"],paper:["paper"]},nr,t)})(F),U=n.useCallback((()=>{if("anchorPosition"===g)return m;const e=ur(p),t=(e&&1===e.nodeType?e:(0,dt.A)(L.current).body).getBoundingClientRect();return{top:t.top+ar(t,f.vertical),left:t.left+lr(t,f.horizontal)}}),[p,f.horizontal,f.vertical,m,g]),B=n.useCallback((e=>({vertical:ar(e,E.vertical),horizontal:lr(e,E.horizontal)})),[E.horizontal,E.vertical]),z=n.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},r=B(t);if("none"===g)return{top:null,left:null,transformOrigin:cr(r)};const n=U();let o=n.top-r.vertical,s=n.left-r.horizontal;const i=o+t.height,a=s+t.width,l=(0,St.A)(ur(p)),c=l.innerHeight-_,u=l.innerWidth-_;if(null!==_&&o<_){const e=o-_;o-=e,r.vertical+=e}else if(null!==_&&i>c){const e=i-c;o-=e,r.vertical+=e}if(null!==_&&s<_){const e=s-_;s-=e,r.horizontal+=e}else if(a>u){const e=a-u;s-=e,r.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(s)}px`,transformOrigin:cr(r)}}),[p,g,U,B,_]),[W,q]=n.useState(k),H=n.useCallback((()=>{const e=L.current;if(!e)return;const t=z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,q(!0)}),[z]);n.useEffect((()=>(j&&window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H))),[p,j,H]);n.useEffect((()=>{k&&H()})),n.useImperativeHandle(d,(()=>k?{updatePosition:()=>{H()}}:null),[k,H]),n.useEffect((()=>{if(!k)return;const e=(0,kt.A)((()=>{H()})),t=(0,St.A)(p);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[p,k,H]);let J=R;"auto"!==R||C.muiSupportAuto||(J=void 0);const K=w||(p?(0,dt.A)(ur(p)).body:void 0),V=null!=(o=null==x?void 0:x.root)?o:dr,G=null!=(s=null==x?void 0:x.paper)?s:hr,Y=(0,pt.A)({elementType:G,externalSlotProps:(0,a.A)({},$,{style:W?$.style:(0,a.A)({},$.style,{opacity:0})}),additionalProps:{elevation:A,ref:N},ownerState:F,className:(0,c.A)(D.paper,null==$?void 0:$.className)}),Z=(0,pt.A)({elementType:V,externalSlotProps:(null==T?void 0:T.root)||{},externalForwardedProps:I,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:K,open:k},ownerState:F,className:(0,c.A)(D.root,y)}),{slotProps:Q}=Z,ee=(0,l.A)(Z,ir);return(0,v.jsx)(V,(0,a.A)({},ee,!(0,M.A)(V)&&{slotProps:Q,disableScrollLock:j},{children:(0,v.jsx)(C,(0,a.A)({appear:!0,in:k,onEntering:(e,t)=>{P&&P(e,t),H()},onExited:()=>{q(!1)},timeout:J},O,{children:(0,v.jsx)(G,(0,a.A)({},Y,{children:b}))}))}))}));function fr(e){return(0,m.Ay)("MuiMenu",e)}(0,f.A)("MuiMenu",["root","paper","list"]);const mr=["onEntering"],gr=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],vr={vertical:"top",horizontal:"right"},br={vertical:"top",horizontal:"left"},yr=(0,d.Ay)(pr,{shouldForwardProp:e=>(0,ge.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),wr=(0,d.Ay)(hr,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ar=(0,d.Ay)(_t,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0});var _r=n.forwardRef((function(e,t){var r,o;const s=(0,h.b)({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:d,className:p,disableAutoFocusItem:f=!1,MenuListProps:m={},onClose:g,open:b,PaperProps:y={},PopoverClasses:w,transitionDuration:A="auto",TransitionProps:{onEntering:_}={},variant:k="selectedMenu",slots:S={},slotProps:x={}}=s,T=(0,l.A)(s.TransitionProps,mr),E=(0,l.A)(s,gr),C=(0,ht.I)(),R=(0,a.A)({},s,{autoFocus:i,disableAutoFocusItem:f,MenuListProps:m,onEntering:_,PaperProps:y,transitionDuration:A,TransitionProps:T,variant:k}),P=(e=>{const{classes:t}=e;return(0,u.A)({root:["root"],paper:["paper"],list:["list"]},fr,t)})(R),j=i&&!f&&b,O=n.useRef(null);let I=-1;n.Children.map(d,((e,t)=>{n.isValidElement(e)&&(e.props.disabled||("selectedMenu"===k&&e.props.selected||-1===I)&&(I=t))}));const $=null!=(r=S.paper)?r:wr,L=null!=(o=x.paper)?o:y,N=(0,pt.A)({elementType:S.root,externalSlotProps:x.root,ownerState:R,className:[P.root,p]}),M=(0,pt.A)({elementType:$,externalSlotProps:L,ownerState:R,className:P.paper});return(0,v.jsx)(yr,(0,a.A)({onClose:g,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?vr:br,slots:{paper:$,root:S.root},slotProps:{root:N,paper:M},open:b,ref:t,transitionDuration:A,TransitionProps:(0,a.A)({onEntering:(e,t)=>{O.current&&O.current.adjustStyleForScrollbar(e,{direction:C?"rtl":"ltr"}),_&&_(e,t)}},T),ownerState:R},E,{classes:w,children:(0,v.jsx)(Ar,(0,a.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),g&&g(e,"tabKeyDown"))},actions:O,autoFocus:i&&(-1===I||f),autoFocusItem:j,variant:k},m,{className:(0,c.A)(P.list,m.className),children:d}))}))}));function kr(e){return(0,m.Ay)("MuiNativeSelect",e)}var Sr=(0,f.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);const xr=["className","disabled","error","IconComponent","inputRef","variant"],Tr=({ownerState:e,theme:t})=>(0,a.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,a.A)({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Sr.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),Er=(0,d.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ge.A,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${Sr.multiple}`]:t.multiple}]}})(Tr),Cr=({ownerState:e,theme:t})=>(0,a.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Sr.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),Rr=(0,d.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${(0,G.A)(r.variant)}`],r.open&&t.iconOpen]}})(Cr);var Pr=n.forwardRef((function(e,t){const{className:r,disabled:o,error:s,IconComponent:i,inputRef:d,variant:h="standard"}=e,p=(0,l.A)(e,xr),f=(0,a.A)({},e,{disabled:o,variant:h,error:s}),m=(e=>{const{classes:t,variant:r,disabled:n,multiple:o,open:s,error:i}=e,a={select:["select",r,n&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${(0,G.A)(r)}`,s&&"iconOpen",n&&"disabled"]};return(0,u.A)(a,kr,t)})(f);return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(Er,(0,a.A)({ownerState:f,className:(0,c.A)(m.select,r),disabled:o,ref:d||t},p)),e.multiple?null:(0,v.jsx)(Rr,{as:i,ownerState:f,className:m.icon})]})})),jr=r(4438),Or=r(1159);function Ir(e){return(0,m.Ay)("MuiSelect",e)}var $r,Lr=(0,f.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);const Nr=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Mr=(0,d.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${Lr.select}`]:t.select},{[`&.${Lr.select}`]:t[r.variant]},{[`&.${Lr.error}`]:t.error},{[`&.${Lr.multiple}`]:t.multiple}]}})(Tr,{[`&.${Lr.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Fr=(0,d.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${(0,G.A)(r.variant)}`],r.open&&t.iconOpen]}})(Cr),Dr=(0,d.Ay)("input",{shouldForwardProp:e=>(0,jr.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Ur(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}function Br(e){return null==e||"string"==typeof e&&!e.trim()}var zr=n.forwardRef((function(e,t){var r;const{"aria-describedby":o,"aria-label":s,autoFocus:i,autoWidth:d,children:h,className:p,defaultOpen:f,defaultValue:m,disabled:g,displayEmpty:b,error:y=!1,IconComponent:w,inputRef:A,labelId:_,MenuProps:k={},multiple:S,name:x,onBlur:T,onChange:E,onClose:C,onFocus:R,onOpen:P,open:j,readOnly:O,renderValue:I,SelectDisplayProps:L={},tabIndex:M,value:F,variant:D="standard"}=e,U=(0,l.A)(e,Nr),[B,z]=(0,Or.A)({controlled:F,default:m,name:"Select"}),[W,q]=(0,Or.A)({controlled:j,default:f,name:"Select"}),H=n.useRef(null),J=n.useRef(null),[K,V]=n.useState(null),{current:Y}=n.useRef(null!=j),[Z,Q]=n.useState(),ee=(0,X.A)(t,A),te=n.useCallback((e=>{J.current=e,e&&V(e)}),[]),re=null==K?void 0:K.parentNode;n.useImperativeHandle(ee,(()=>({focus:()=>{J.current.focus()},node:H.current,value:B})),[B]),n.useEffect((()=>{f&&W&&K&&!Y&&(Q(d?null:re.clientWidth),J.current.focus())}),[K,d]),n.useEffect((()=>{i&&J.current.focus()}),[i]),n.useEffect((()=>{if(!_)return;const e=(0,dt.A)(J.current).getElementById(_);if(e){const t=()=>{getSelection().isCollapsed&&J.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[_]);const ne=(e,t)=>{e?P&&P(t):C&&C(t),Y||(Q(d?null:re.clientWidth),q(e))},oe=n.Children.toArray(h),ie=e=>t=>{let r;if(t.currentTarget.hasAttribute("tabindex")){if(S){r=Array.isArray(B)?B.slice():[];const t=B.indexOf(e.props.value);-1===t?r.push(e.props.value):r.splice(t,1)}else r=e.props.value;if(e.props.onClick&&e.props.onClick(t),B!==r&&(z(r),E)){const n=t.nativeEvent||t,o=new n.constructor(n.type,n);Object.defineProperty(o,"target",{writable:!0,value:{value:r,name:x}}),E(o,e)}S||ne(!1,t)}},ae=null!==K&&W;let le,ce;delete U["aria-invalid"];const ue=[];let de=!1,he=!1;(se({value:B})||b)&&(I?le=I(B):de=!0);const pe=oe.map((e=>{if(!n.isValidElement(e))return null;let t;if(S){if(!Array.isArray(B))throw new Error((0,N.A)(2));t=B.some((t=>Ur(t,e.props.value))),t&&de&&ue.push(e.props.children)}else t=Ur(B,e.props.value),t&&de&&(ce=e.props.children);return t&&(he=!0),n.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ie(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));de&&(le=S?0===ue.length?null:ue.reduce(((e,t,r)=>(e.push(t),r<ue.length-1&&e.push(", "),e)),[]):ce);let fe,me=Z;!d&&Y&&K&&(me=re.clientWidth),fe=void 0!==M?M:g?null:0;const ge=L.id||(x?`mui-component-select-${x}`:void 0),ve=(0,a.A)({},e,{variant:D,value:B,open:ae,error:y}),be=(e=>{const{classes:t,variant:r,disabled:n,multiple:o,open:s,error:i}=e,a={select:["select",r,n&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${(0,G.A)(r)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return(0,u.A)(a,Ir,t)})(ve),ye=(0,a.A)({},k.PaperProps,null==(r=k.slotProps)?void 0:r.paper),we=(0,$.A)();return(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(Mr,(0,a.A)({ref:te,tabIndex:fe,role:"combobox","aria-controls":we,"aria-disabled":g?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[_,ge].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!O){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ne(!0,e))}},onMouseDown:g||O?null:e=>{0===e.button&&(e.preventDefault(),J.current.focus(),ne(!0,e))},onBlur:e=>{!ae&&T&&(Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:x}}),T(e))},onFocus:R},L,{ownerState:ve,className:(0,c.A)(L.className,be.select,p),id:ge,children:Br(le)?$r||($r=(0,v.jsx)("span",{className:"notranslate",children:"​"})):le})),(0,v.jsx)(Dr,(0,a.A)({"aria-invalid":y,value:Array.isArray(B)?B.join(","):B,name:x,ref:H,"aria-hidden":!0,onChange:e=>{const t=oe.find((t=>t.props.value===e.target.value));void 0!==t&&(z(t.props.value),E&&E(e,t))},tabIndex:-1,disabled:g,className:be.nativeInput,autoFocus:i,ownerState:ve},U)),(0,v.jsx)(Fr,{as:w,className:be.icon,ownerState:ve}),(0,v.jsx)(_r,(0,a.A)({id:`menu-${x||""}`,anchorEl:re,open:ae,onClose:e=>{ne(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k,{MenuListProps:(0,a.A)({"aria-labelledby":_,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:we},k.MenuListProps),slotProps:(0,a.A)({},k.slotProps,{paper:(0,a.A)({},ye,{style:(0,a.A)({minWidth:me},null!=ye?ye.style:null)})}),children:pe}))]})})),Wr=(0,r(5003).A)((0,v.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");const qr=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Hr=["root"],Jr={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,ge.A)(e)&&"variant"!==e,slot:"Root"},Kr=(0,d.Ay)(ke,Jr)(""),Vr=(0,d.Ay)(ze,Jr)(""),Gr=(0,d.Ay)(je,Jr)(""),Xr=n.forwardRef((function(e,t){const r=(0,h.b)({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:s,classes:i={},className:u,defaultOpen:d=!1,displayEmpty:p=!1,IconComponent:f=Wr,id:m,input:g,inputProps:b,label:y,labelId:w,MenuProps:A,multiple:_=!1,native:k=!1,onClose:S,onOpen:x,open:T,renderValue:E,SelectDisplayProps:C,variant:R="outlined"}=r,P=(0,l.A)(r,qr),j=k?Pr:zr,O=J({props:r,muiFormControl:V(),states:["variant","error"]}),I=O.variant||R,$=(0,a.A)({},r,{variant:I,classes:i}),N=(e=>{const{classes:t}=e;return t})($),M=(0,l.A)(N,Hr),F=g||{standard:(0,v.jsx)(Kr,{ownerState:$}),outlined:(0,v.jsx)(Vr,{label:y,ownerState:$}),filled:(0,v.jsx)(Gr,{ownerState:$})}[I],D=(0,X.A)(t,(0,ut.A)(F));return(0,v.jsx)(n.Fragment,{children:n.cloneElement(F,(0,a.A)({inputComponent:j,inputProps:(0,a.A)({children:s,error:O.error,IconComponent:f,variant:I,type:void 0,multiple:_},k?{id:m}:{autoWidth:o,defaultOpen:d,displayEmpty:p,labelId:w,MenuProps:A,onClose:S,onOpen:x,open:T,renderValue:E,SelectDisplayProps:(0,a.A)({id:m},C)},b,{classes:b?(0,L.A)(M,b.classes):M},g?g.props.inputProps:{})},(_&&k||p)&&"outlined"===I?{notched:!0}:{},{ref:D,className:(0,c.A)(F.props.className,u,N.root)},!g&&{variant:I},P))})}));Xr.muiName="Select";var Yr=Xr;function Zr(e){return(0,m.Ay)("MuiTextField",e)}(0,f.A)("MuiTextField",["root"]);const Qr=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],en={standard:ke,filled:je,outlined:ze},tn=(0,d.Ay)(nt,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({});var rn=n.forwardRef((function(e,t){const r=(0,h.b)({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:o=!1,children:s,className:i,color:d="primary",defaultValue:p,disabled:f=!1,error:m=!1,FormHelperTextProps:g,fullWidth:b=!1,helperText:y,id:w,InputLabelProps:A,inputProps:_,InputProps:k,inputRef:S,label:x,maxRows:T,minRows:E,multiline:C=!1,name:R,onBlur:P,onChange:j,onFocus:O,placeholder:I,required:L=!1,rows:N,select:M=!1,SelectProps:F,type:D,value:U,variant:B="outlined"}=r,z=(0,l.A)(r,Qr),W=(0,a.A)({},r,{autoFocus:o,color:d,disabled:f,error:m,fullWidth:b,multiline:C,required:L,select:M,variant:B}),q=(e=>{const{classes:t}=e;return(0,u.A)({root:["root"]},Zr,t)})(W);const H={};"outlined"===B&&(A&&void 0!==A.shrink&&(H.notched=A.shrink),H.label=x),M&&(F&&F.native||(H.id=void 0),H["aria-describedby"]=void 0);const J=(0,$.A)(w),K=y&&J?`${J}-helper-text`:void 0,V=x&&J?`${J}-label`:void 0,G=en[B],X=(0,v.jsx)(G,(0,a.A)({"aria-describedby":K,autoComplete:n,autoFocus:o,defaultValue:p,fullWidth:b,multiline:C,name:R,rows:N,maxRows:T,minRows:E,type:D,value:U,id:J,inputRef:S,onBlur:P,onChange:j,onFocus:O,placeholder:I,inputProps:_},H,k));return(0,v.jsxs)(tn,(0,a.A)({className:(0,c.A)(q.root,i),disabled:f,error:m,fullWidth:b,ref:t,required:L,color:d,variant:B,ownerState:W},z,{children:[null!=x&&""!==x&&(0,v.jsx)(Ze,(0,a.A)({htmlFor:J,id:V},A,{children:x})),M?(0,v.jsx)(Yr,(0,a.A)({"aria-describedby":K,id:J,labelId:V,value:U,input:X},F,{children:s})):X,y&&(0,v.jsx)(ct,(0,a.A)({id:K},g,{children:y}))]}))})),nn=r(6990),on=r(443),sn=r(9781),an=r(5825),ln=r(4506);class cn extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class un extends cn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dn extends cn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hn extends cn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var pn;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(pn||(pn={}));var fn=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};class mn{constructor(e,{headers:t={},customFetch:n,region:o=pn.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,907)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return fn(this,void 0,void 0,(function*(){try{const{headers:n,method:o,body:s}=t;let i,a={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(a["x-region"]=l),s&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!=typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",i=s):"string"==typeof s?(a["Content-Type"]="text/plain",i=s):"undefined"!=typeof FormData&&s instanceof FormData?i=s:(a["Content-Type"]="application/json",i=JSON.stringify(s)));const c=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:i}).catch((e=>{throw new un(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new dn(c);if(!c.ok)throw new hn(c);let d,h=(null!==(r=c.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(n){return{data:null,error:n}}}))}}var gn=r(2279);const{PostgrestClient:vn,PostgrestQueryBuilder:bn,PostgrestFilterBuilder:yn,PostgrestTransformBuilder:wn,PostgrestBuilder:An,PostgrestError:_n}=gn;const kn={"X-Client-Info":"realtime-js/2.11.2"};var Sn,xn,Tn,En,Cn,Rn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Sn||(Sn={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(xn||(xn={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Tn||(Tn={})),function(e){e.websocket="websocket"}(En||(En={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Cn||(Cn={}));class Pn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),o=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=r.decode(e.slice(s,s+n));s+=n;const a=r.decode(e.slice(s,s+o));s+=o;return{ref:null,topic:i,event:a,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class jn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Rn||(Rn={}));const On=(e,t,r={})=>{var n;const o=null!==(n=r.skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((r,n)=>(r[n]=In(n,e,t,o),r)),{})},In=(e,t,r,n)=>{const o=t.find((t=>t.name===e)),s=null==o?void 0:o.type,i=r[e];return s&&!n.includes(s)?$n(s,i):Ln(i)},$n=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Dn(t,r)}switch(e){case Rn.bool:return Nn(t);case Rn.float4:case Rn.float8:case Rn.int2:case Rn.int4:case Rn.int8:case Rn.numeric:case Rn.oid:return Mn(t);case Rn.json:case Rn.jsonb:return Fn(t);case Rn.timestamp:return Un(t);case Rn.abstime:case Rn.date:case Rn.daterange:case Rn.int4range:case Rn.int8range:case Rn.money:case Rn.reltime:case Rn.text:case Rn.time:case Rn.timestamptz:case Rn.timetz:case Rn.tsrange:case Rn.tstzrange:default:return Ln(t)}},Ln=e=>e,Nn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Mn=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fn=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Dn=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const s=e.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(o){n=s?s.split(","):[]}return n.map((e=>$n(t,e)))}return e},Un=e=>"string"==typeof e?e.replace(" ","T"):e,Bn=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class zn{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Wn,qn,Hn,Jn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(Wn||(Wn={}));class Kn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kn.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=Kn.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],n()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Kn.syncDiff(this.state,e,t,r),n())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,n){const o=this.cloneDeep(e),s=this.transformState(t),i={},a={};return this.map(o,((e,t)=>{s[e]||(a[e]=t)})),this.map(s,((e,t)=>{const r=o[e];if(r){const n=t.map((e=>e.presence_ref)),o=r.map((e=>e.presence_ref)),s=t.filter((e=>o.indexOf(e.presence_ref)<0)),l=r.filter((e=>n.indexOf(e.presence_ref)<0));s.length>0&&(i[e]=s),l.length>0&&(a[e]=l)}else i[e]=t})),this.syncDiff(o,{joins:i,leaves:a},r,n)}static syncDiff(e,t,r,n){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(o,((t,n)=>{var o;const s=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map((e=>e.presence_ref)),n=s.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...n)}r(t,s,n)})),this.map(s,((t,r)=>{let o=e[t];if(!o)return;const s=r.map((e=>e.presence_ref));o=o.filter((e=>s.indexOf(e.presence_ref)<0)),e[t]=o,n(t,o,r),0===o.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):n,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(qn||(qn={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(Hn||(Hn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(Jn||(Jn={}));class Vn{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=xn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new zn(this,Tn.join,this.params,this.timeout),this.rejoinTimer=new jn((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=xn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xn.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xn.errored,this.rejoinTimer.scheduleTimeout())})),this._on(Tn.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Kn(this),this.broadcastEndpointURL=Bn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:s,private:i}}=this.params;this._onError((t=>null==e?void 0:e(Jn.CHANNEL_ERROR,t))),this._onClose((()=>null==e?void 0:e(Jn.CLOSED)));const a={},l={broadcast:o,presence:s,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==n?n:[],private:i};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0!==t){const n=this.bindings.postgres_changes,o=null!==(r=null==n?void 0:n.length)&&void 0!==r?r:0,s=[];for(let r=0;r<o;r++){const o=n[r],{filter:{event:i,schema:a,table:l,filter:c}}=o,u=t&&t[r];if(!u||u.event!==i||u.schema!==a||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null==e||e(Jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},o),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(Jn.SUBSCRIBED))}null==e||e(Jn.SUBSCRIBED)})).receive("error",(t=>{null==e||e(Jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null==e||e(Jn.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var n,o,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(o=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===o?void 0:o.broadcast)||void 0===s?void 0:s.ack)||r("ok"),i.receive("ok",(()=>r("ok"))),i.receive("error",(()=>r("error"))),i.receive("timeout",(()=>r("timed out")))}));{const{event:s,payload:i}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(o){return"AbortError"===o.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=xn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const n=new zn(this,Tn.leave,{},e);n.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})}))}async _fetchWithTimeout(e,t,r){const n=new AbortController,o=setTimeout((()=>n.abort()),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(o),s}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new zn(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,o;const s=e.toLocaleLowerCase(),{close:i,error:a,leave:l,join:c}=Tn;if(r&&[i,a,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let u=this._onMessage(s,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s})).map((e=>e.callback(u,r))):null===(o=this.bindings[s])||void 0===o||o.filter((e=>{var r,n,o,i,a,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(o=t.data)||void 0===o?void 0:o.type.toLocaleLowerCase()))}{const r=null===(a=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===a?void 0:a.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s})).map((e=>{if("object"==typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:o,errors:s}=e,i={schema:t,table:r,commit_timestamp:n,eventType:o,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,r)}))}_isClosed(){return this.state===xn.closed}_isJoined(){return this.state===xn.joined}_isJoining(){return this.state===xn.joining}_isLeaving(){return this.state===xn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const n=e.toLocaleLowerCase(),o={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(o):this.bindings[n]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&Vn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tn.close,{},e)}_onError(e){this._on(Tn.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=On(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=On(e.columns,e.old_record)),t}}const Gn=()=>{},Xn="undefined"!=typeof WebSocket;class Yn{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=kn,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Gn,this.conn=null,this.sendBuffer=[],this.serializer=new Pn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,907)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${En.websocket}`,this.httpEndpoint=Bn(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=null===(n=null==t?void 0:t.params)||void 0===n?void 0:n.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jn((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(Xn)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new Zn(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),r.e(191).then(r.t.bind(r,4191,23)).then((({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Sn.connecting:return Cn.Connecting;case Sn.open:return Cn.Open;case Sn.closing:return Cn.Closing;default:return Cn.Closed}}isConnected(){return this.connectionState()===Cn.Open}channel(e,t={config:{}}){const r=new Vn(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:n,ref:o}=e,s=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${o})`,n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let e=null;try{e=JSON.parse(atob(t.split(".")[1]))}catch(r){}if(e&&e.exp){if(!(Math.floor(Date.now()/1e3)-e.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`)}this.accessTokenValue=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(Tn.access_token,{access_token:t})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:o}=e;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${t} ${r} ${o&&"("+o+")"||""}`,n),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,n,o))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(Tn.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Zn{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Sn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Qn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function eo(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class to extends Qn{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ro extends Qn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var no=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const oo=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,907)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},so=e=>{if(Array.isArray(e))return e.map((e=>so(e)));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((([e,r])=>{const n=e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[n]=so(r)})),t};var io=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const ao=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lo=(e,t,n)=>io(void 0,void 0,void 0,(function*(){const o=yield no(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield Promise.resolve().then(r.bind(r,907))).Response:Response}));e instanceof o&&!(null==n?void 0:n.noResolveJson)?e.json().then((r=>{t(new to(ao(r),e.status||500))})).catch((e=>{t(new ro(ao(e),e))})):t(new ro(ao(e),e))}));function co(e,t,r,n,o,s){return io(this,void 0,void 0,(function*(){return new Promise(((i,a)=>{e(r,((e,t,r,n)=>{const o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),n&&(o.body=JSON.stringify(n)),Object.assign(Object.assign({},o),r))})(t,n,o,s)).then((e=>{if(!e.ok)throw e;return(null==n?void 0:n.noResolveJson)?e:e.json()})).then((e=>i(e))).catch((e=>lo(e,a,n)))}))}))}function uo(e,t,r,n){return io(this,void 0,void 0,(function*(){return co(e,"GET",t,r,n)}))}function ho(e,t,r,n,o){return io(this,void 0,void 0,(function*(){return co(e,"POST",t,n,o,r)}))}function po(e,t,r,n,o){return io(this,void 0,void 0,(function*(){return co(e,"DELETE",t,n,o,r)}))}var fo=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const mo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vo{constructor(e,t={},r,n){this.url=e,this.headers=t,this.bucketId=r,this.fetch=oo(n)}uploadOrUpdate(e,t,r,n){return fo(this,void 0,void 0,(function*(){try{let o;const s=Object.assign(Object.assign({},go),n);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const a=s.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),a&&o.append("metadata",this.encodeMetadata(a)),o.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),a&&o.append("metadata",this.encodeMetadata(a))):(o=r,i["cache-control"]=`max-age=${s.cacheControl}`,i["content-type"]=s.contentType,a&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),(null==n?void 0:n.headers)&&(i=Object.assign(Object.assign({},i),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:o,headers:i},(null==s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(o){if(eo(o))return{data:null,error:o};throw o}}))}upload(e,t,r){return fo(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}uploadToSignedUrl(e,t,r,n){return fo(this,void 0,void 0,(function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),i=new URL(this.url+`/object/upload/sign/${s}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:go.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]=`max-age=${t.cacheControl}`,s["content-type"]=t.contentType);const a=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:s}),l=yield a.json();if(a.ok)return{data:{path:o,fullPath:l.Key},error:null};return{data:null,error:l}}catch(a){if(eo(a))return{data:null,error:a};throw a}}))}createSignedUploadUrl(e,t){return fo(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(n["x-upsert"]="true");const o=yield ho(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),s=new URL(this.url+o.url),i=s.searchParams.get("token");if(!i)throw new Qn("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(r){if(eo(r))return{data:null,error:r};throw r}}))}update(e,t,r){return fo(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t,r){return fo(this,void 0,void 0,(function*(){try{return{data:yield ho(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(eo(n))return{data:null,error:n};throw n}}))}copy(e,t,r){return fo(this,void 0,void 0,(function*(){try{return{data:{path:(yield ho(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(eo(n))return{data:null,error:n};throw n}}))}createSignedUrl(e,t,r){return fo(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e),o=yield ho(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(n){if(eo(n))return{data:null,error:n};throw n}}))}createSignedUrls(e,t,r){return fo(this,void 0,void 0,(function*(){try{const n=yield ho(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:n.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${o}`):null}))),error:null}}catch(n){if(eo(n))return{data:null,error:n};throw n}}))}download(e,t){return fo(this,void 0,void 0,(function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),o=n?`?${n}`:"";try{const t=this._getFinalPath(e),n=yield uo(this.fetch,`${this.url}/${r}/${t}${o}`,{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(s){if(eo(s))return{data:null,error:s};throw s}}))}info(e){return fo(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield uo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:so(e),error:null}}catch(r){if(eo(r))return{data:null,error:r};throw r}}))}exists(e){return fo(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return io(this,void 0,void 0,(function*(){return co(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(eo(r)&&r instanceof ro){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}}))}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],o=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==o&&n.push(o);const s=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&n.push(i);let a=n.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${a}`)}}}remove(e){return fo(this,void 0,void 0,(function*(){try{return{data:yield po(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(eo(t))return{data:null,error:t};throw t}}))}list(e,t,r){return fo(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},mo),t),{prefix:e||""});return{data:yield ho(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(eo(n))return{data:null,error:n};throw n}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const bo={"X-Client-Info":"storage-js/2.7.1"};var yo=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};class wo{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},bo),t),this.fetch=oo(r)}listBuckets(){return yo(this,void 0,void 0,(function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(eo(e))return{data:null,error:e};throw e}}))}getBucket(e){return yo(this,void 0,void 0,(function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(eo(t))return{data:null,error:t};throw t}}))}createBucket(e,t={public:!1}){return yo(this,void 0,void 0,(function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(eo(r))return{data:null,error:r};throw r}}))}updateBucket(e,t){return yo(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r,n,o){return io(this,void 0,void 0,(function*(){return co(e,"PUT",t,n,o,r)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(eo(r))return{data:null,error:r};throw r}}))}emptyBucket(e){return yo(this,void 0,void 0,(function*(){try{return{data:yield ho(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(eo(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return yo(this,void 0,void 0,(function*(){try{return{data:yield po(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(eo(t))return{data:null,error:t};throw t}}))}}class Ao extends wo{constructor(e,t={},r){super(e,t,r)}from(e){return new vo(this.url,this.headers,e,this.fetch)}}let _o="";_o="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ko={headers:{"X-Client-Info":`supabase-js-${_o}/2.49.4`}},So={schema:"public"},xo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},To={};var Eo=r(907),Co=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const Ro=e=>{let t;return t=e||("undefined"==typeof fetch?Eo.default:fetch),(...e)=>t(...e)},Po=(e,t,r)=>{const n=Ro(r),o="undefined"==typeof Headers?Eo.Headers:Headers;return(r,s)=>Co(void 0,void 0,void 0,(function*(){var i;const a=null!==(i=yield t())&&void 0!==i?i:e;let l=new o(null==s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),n(r,Object.assign(Object.assign({},s),{headers:l}))}))};var jo=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};const Oo="2.69.1",Io=3e4,$o=9e4,Lo={"X-Client-Info":`gotrue-js/${Oo}`},No="X-Supabase-Api-Version",Mo={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Fo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Do extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Uo(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class Bo extends Do{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class zo extends Do{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wo extends Do{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class qo extends Wo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ho extends Wo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jo extends Wo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ko extends Wo{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vo extends Wo{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Go extends Wo{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Xo(e){return Uo(e)&&"AuthRetryableFetchError"===e.name}class Yo extends Wo{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Zo extends Wo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),es=" \t\n\r=".split(""),ts=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<es.length;t+=1)e[es[t].charCodeAt(0)]=-2;for(let t=0;t<Qo.length;t+=1)e[Qo[t].charCodeAt(0)]=t;return e})();function rs(e,t,r){const n=ts[e];if(!(n>-1)){if(-2===n)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function ns(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let i=0;i<e.length;i+=1)rs(e.charCodeAt(i),o,s);return t.join("")}function os(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function ss(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}os(n,t)}}function is(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let o=0;o<e.length;o+=1)rs(e.charCodeAt(o),r,n);return new Uint8Array(t)}const as=()=>"undefined"!=typeof window&&"undefined"!=typeof document,ls={tested:!1,writable:!1},cs=()=>{if(!as())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(ls.tested)return ls.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ls.tested=!0,ls.writable=!0}catch(t){ls.tested=!0,ls.writable=!1}return ls.writable};const us=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>Promise.resolve().then(r.bind(r,907)).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},ds=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},hs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},ps=async(e,t)=>{await e.removeItem(t)};class fs{constructor(){this.promise=new fs.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function ms(e){const t=e.split(".");if(3!==t.length)throw new Zo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Fo.test(t[r]))throw new Zo("JWT not in base64url format");return{header:JSON.parse(ns(t[0])),payload:JSON.parse(ns(t[1])),signature:is(t[2]),raw:{header:t[0],payload:t[1]}}}function gs(e){return("0"+e.toString(16)).substr(-2)}async function vs(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(e,t,r=!1){const n=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,gs).join("")}();let o=n;r&&(o+="/PASSWORD_RECOVERY"),await ds(e,`${t}-code-verifier`,o);const s=await vs(n);return[s,n===s?"plain":"s256"]}fs.promiseConstructor=Promise;const ys=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var ws=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};const As=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_s=[502,503,504];async function ks(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Go(As(e),0);if(_s.includes(e.status))throw new Go(As(e),e.status);let n,o;try{n=await e.json()}catch(i){throw new zo(As(i),i)}const s=function(e){const t=e.headers.get(No);if(!t)return null;if(!t.match(ys))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(i){return null}}(e);if(s&&s.getTime()>=Mo.timestamp&&"object"==typeof n&&n&&"string"==typeof n.code?o=n.code:"object"==typeof n&&n&&"string"==typeof n.error_code&&(o=n.error_code),o){if("weak_password"===o)throw new Yo(As(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===o)throw new qo}else if("object"==typeof n&&n&&"object"==typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new Yo(As(n),e.status,n.weak_password.reasons);throw new Bo(As(n),e.status||500,o)}async function Ss(e,t,r,n){var o;const s=Object.assign({},null==n?void 0:n.headers);s[No]||(s[No]=Mo.name),(null==n?void 0:n.jwt)&&(s.Authorization=`Bearer ${n.jwt}`);const i=null!==(o=null==n?void 0:n.query)&&void 0!==o?o:{};(null==n?void 0:n.redirectTo)&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,n,o,s){const i=((e,t,r,n)=>{const o={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),r))})(t,n,o,s);let a;try{a=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Go(As(l),0)}a.ok||await ks(a);if(null==n?void 0:n.noResolveJson)return a;try{return await a.json()}catch(l){await ks(l)}}(e,t,r+a,{headers:s,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function xs(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Ts(e){const t=xs(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function Es(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Cs(e){return{data:e,error:null}}function Rs(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s}=e,i=ws(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:o,verification_type:s},user:Object.assign({},i)},error:null}}function Ps(e){return e}var js=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};class Os{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=us(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ss(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Uo(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ss(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Es})}catch(r){if(Uo(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=js(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await Ss(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Rs,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(Uo(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ss(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Es})}catch(t){if(Uo(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,o,s,i,a;try{const l={nextPage:null,lastPage:0,total:0},c=await Ss(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(o=null===(n=null==e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==o?o:""},xform:Ps});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(a=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==a?a:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Uo(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Ss(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Es})}catch(t){if(Uo(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ss(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Es})}catch(r){if(Uo(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Ss(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Es})}catch(r){if(Uo(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Ss(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(Uo(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ss(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Uo(t))return{data:null,error:t};throw t}}}const Is={getItem:e=>cs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{cs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{cs()&&globalThis.localStorage.removeItem(e)}};function $s(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ls=!!(globalThis&&cs()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ns extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ms extends Ns{}async function Fs(e,t,r){Ls&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout((()=>{n.abort(),Ls&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},(async n=>{if(!n){if(0===t)throw Ls&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ms(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ls)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Ls&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Ls&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Ds={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lo,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Us(e,t,r){return await r()}class Bs{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bs.nextInstanceID,Bs.nextInstanceID+=1,this.instanceID>0&&as()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ds),e);if(this.logDebugMessages=!!n.debug,"function"==typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Os({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=us(n.fetch),this.lock=n.lock||Us,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:as()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Fs:this.lock=Us,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:cs()?this.storage=Is:(this.memoryStorage={},this.storage=$s(this.memoryStorage)):(this.memoryStorage={},this.storage=$s(this.memoryStorage)),as()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Oo}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(n){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),as()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),function(e){return Uo(e)&&"AuthImplicitGrantRedirectError"===e.name}(o)){const t=null===(e=o.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:i}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout((async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Uo(t)?{error:t}:{error:new zo("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const o=await Ss(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:xs}),{data:s,error:i}=o;if(i||!s)return{data:{user:null,session:null},error:i};const a=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(o){if(Uo(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,n;try{let o;if("email"in e){const{email:r,password:n,options:s}=e;let i=null,a=null;"pkce"===this.flowType&&([i,a]=await bs(this.storage,this.storageKey)),o=await Ss(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:a},xform:xs})}else{if(!("phone"in e))throw new Jo("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;o=await Ss(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(n=null==i?void 0:i.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:xs})}}const{data:s,error:i}=o;if(i||!s)return{data:{user:null,session:null},error:i};const a=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(o){if(Uo(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:o}=e;t=await Ss(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Ts})}else{if(!("phone"in e))throw new Jo("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:o}=e;t=await Ss(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:Ts})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new Ho}}catch(t){if(Uo(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,o;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(o=e.options)||void 0===o?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await hs(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{const{data:t,error:o}=await Ss(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xs});if(await ps(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:o}):{data:{user:null,session:null,redirectType:null},error:new Ho}}catch(o){if(Uo(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:o,nonce:s}=e,i=await Ss(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:xs}),{data:a,error:l}=i;return l?{data:{user:null,session:null},error:l}:a&&a.session&&a.user?(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l}):{data:{user:null,session:null},error:new Ho}}catch(t){if(Uo(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,o,s;try{if("email"in e){const{email:n,options:o}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await bs(this.storage,this.storageKey));const{error:a}=await Ss(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!==(t=null==o?void 0:o.data)&&void 0!==t?t:{},create_user:null===(r=null==o?void 0:o.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null==o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:a}=await Ss(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(n=null==r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(o=null==r?void 0:r.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(s=null==r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:a}}throw new Jo("You must provide either an email or phone number.")}catch(i){if(Uo(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,r;try{let n,o;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,o=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:i}=await Ss(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:n,xform:xs});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const a=s.session,l=s.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(n){if(Uo(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let o=null,s=null;return"pkce"===this.flowType&&([o,s]=await bs(this.storage,this.storageKey)),await Ss(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:Cs})}catch(o){if(Uo(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new qo;const{error:n}=await Ss(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(Uo(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:o}=e,{error:s}=await Ss(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},redirectTo:null==o?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:n,options:o}=e,{data:s,error:i}=await Ss(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:null==s?void 0:s.message_id},error:i}}throw new Jo("You must provide either an email or phone number and a type")}catch(t){if(Uo(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<$o;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await Ss(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Es}):await this._useSession((async e=>{var t,r,n;const{data:o,error:s}=e;if(s)throw s;return(null===(t=o.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Ss(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(n=null===(r=o.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:Es}):{data:{user:null},error:new qo}}))}catch(t){if(Uo(t))return function(e){return Uo(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async r=>{const{data:n,error:o}=r;if(o)throw o;if(!n.session)throw new qo;const s=n.session;let i=null,a=null;"pkce"===this.flowType&&null!=e.email&&([i,a]=await bs(this.storage,this.storageKey));const{data:l,error:c}=await Ss(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:a}),jwt:s.access_token,xform:Es});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}}))}catch(r){if(Uo(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qo;const t=Date.now()/1e3;let r=t,n=!0,o=null;const{payload:s}=ms(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};o=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;o={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(Uo(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:n,error:o}=t;if(o)throw o;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new qo;const{session:n,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Uo(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!as())throw new Ko("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ko(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Vo("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ko("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vo("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:o,refresh_token:s,expires_in:i,expires_at:a,token_type:l}=e;if(!(o&&i&&s&&l))throw new Ko("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;a&&(d=parseInt(a));const h=d-c;1e3*h<=Io&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:m}=await this._getUser(o);if(m)throw m;const g={provider_token:r,provider_refresh_token:n,access_token:o,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(Uo(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await hs(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var r;const{data:n,error:o}=t;if(o)return{error:o};const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return Uo(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,n;try{const{data:{session:n},error:o}=t;if(o)throw o;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(o){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await bs(this.storage,this.storageKey,!0));try{return await Ss(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(Uo(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Uo(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession((async t=>{var r,n,o,s,i;const{data:a,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(o=e.options)||void 0===o?void 0:o.queryParams,skipBrowserRedirect:!0});return await Ss(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=a.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})}));if(n)throw n;return as()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(Uo(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,n;const{data:o,error:s}=t;if(s)throw s;return await Ss(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(n=null===(r=o.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})}))}catch(t){if(Uo(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const o=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Ss(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xs})),n=(e,t)=>{const r=200*Math.pow(2,e);return t&&Xo(t)&&Date.now()+r-o<Io},new Promise(((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await r(s);if(!n(s,null,t))return void e(t)}catch(o){if(!n(s,o))return void t(o)}})()})))}catch(o){if(this._debug(t,"error",o),Uo(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(t,"end")}var r,n}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),as()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await hs(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<$o;if(this._debug(t,`session has${n?"":" not"} expired with margin of 90000s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),Xo(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(t,"error",r),void console.error(r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new qo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new fs;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new qo;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(o){if(this._debug(n,"error",o),Uo(o)){const e={session:null,error:o};return Xo(o)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],o=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(o){n.push(o)}}));if(await Promise.all(o),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ds(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&as()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Io);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-t)/Io);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Ns))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!as()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await bs(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:n,error:o}=t;return o?{data:null,error:o}:await Ss(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Uo(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var r,n;const{data:o,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:l}=await Ss(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(r=null==o?void 0:o.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null==a?void 0:a.totp)||void 0===n?void 0:n.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})}))}catch(t){if(Uo(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:o}=t;if(o)return{data:null,error:o};const{data:s,error:i}=await Ss(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:i})}))}catch(t){if(Uo(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:o}=t;return o?{data:null,error:o}:await Ss(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(Uo(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],n=r.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),o=r.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:r,totp:n,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,r;const{data:{session:n},error:o}=e;if(o)return{data:null,error:o};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ms(n.access_token);let i=null;s.aal&&(i=s.aal);let a=i;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==r?r:[]).length>0&&(a="aal2");return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:s.amr||[]},error:null}}))))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find((t=>t.kid===e));if(r)return r;if(r=this.jwks.keys.find((t=>t.kid===e)),r&&this.jwks_cached_at+6e5>Date.now())return r;const{data:n,error:o}=await Ss(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!n.keys||0===n.keys.length)throw new Zo("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find((t=>t.kid===e)),!r)throw new Zo("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:o,signature:s,raw:{header:i,payload:a}}=ms(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(o.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:o,header:n,signature:s},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),c=await this.fetchJwk(n.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,s,function(e){const t=[];return ss(e,(e=>t.push(e))),new Uint8Array(t)}(`${i}.${a}`)))throw new Zo("Invalid JWT signature");return{data:{claims:o,header:n,signature:s},error:null}}catch(r){if(Uo(r))return{data:null,error:r};throw r}}}Bs.nextInstanceID=0;var zs=Bs;class Ws extends zs{constructor(e){super(e)}}var qs=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}l((n=n.apply(e,t||[])).next())}))};class Hs{constructor(e,t,r){var n,o,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=e.replace(/\/$/,"");this.realtimeUrl=`${i}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${i}/auth/v1`,this.storageUrl=`${i}/storage/v1`,this.functionsUrl=`${i}/functions/v1`;const a=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:r,auth:n,realtime:o,global:s}=e,{db:i,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),o),global:Object.assign(Object.assign({},c),s),accessToken:()=>jo(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!=r?r:{},{db:So,realtime:To,auth:Object.assign(Object.assign({},xo),{storageKey:a}),global:ko});this.storageKey=null!==(n=l.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(o=l.global.headers)&&void 0!==o?o:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=Po(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new vn(`${i}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new mn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ao(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return qs(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,storageKey:o,flowType:s,lock:i,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ws({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,flowType:s,lock:i,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Yn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}var Js={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ks;const Vs=new Uint8Array(16);const Gs=[];for(let ci=0;ci<256;++ci)Gs.push((ci+256).toString(16).slice(1));function Xs(e,t=0){return(Gs[e[t+0]]+Gs[e[t+1]]+Gs[e[t+2]]+Gs[e[t+3]]+"-"+Gs[e[t+4]]+Gs[e[t+5]]+"-"+Gs[e[t+6]]+Gs[e[t+7]]+"-"+Gs[e[t+8]]+Gs[e[t+9]]+"-"+Gs[e[t+10]]+Gs[e[t+11]]+Gs[e[t+12]]+Gs[e[t+13]]+Gs[e[t+14]]+Gs[e[t+15]]).toLowerCase()}var Ys=function(e,t,r){if(Js.randomUUID&&!t&&!e)return Js.randomUUID();const n=(e=e||{}).random??e.rng?.()??function(){if(!Ks){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ks=crypto.getRandomValues.bind(crypto)}return Ks(Vs)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return Xs(n)};const Zs="https://rrpmjlfvatnbmwecmfvj.supabase.co",Qs="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJycG1qbGZ2YXRuYm13ZWNtZnZqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQwODA3MDEsImV4cCI6MjA1OTY1NjcwMX0.wL70WfA54ijaBsaAGt6gswZkdM0Zcp5nIbZcqfPOJhE",ei=((e,t,r)=>new Hs(e,t,r))(Zs,Qs),ti=["Hi! I'm Eve 👋.","I can answer questions about Klea's experience, projects, and skills."];var ri=function(){const{0:e,1:t}=(0,n.useState)([]),{0:r,1:o}=(0,n.useState)(""),{0:s,1:i}=(0,n.useState)(!1),{0:a,1:l}=(0,n.useState)(!1),{0:c,1:u}=(0,n.useState)(""),{0:d,1:h}=(0,n.useState)(!1),p=(0,n.useRef)(null),f=(0,n.useRef)(null),m=(0,n.useRef)(!1),g=(0,n.useRef)(!1),{0:v,1:b}=(0,n.useState)({}),y=864e5,w=function(e,t,r){return void 0===r&&(r=new Date),{role:t,content:e,timestamp:r}};(0,n.useEffect)((()=>{m.current=a}),[a]),(0,n.useEffect)((()=>{const e=localStorage.getItem("chatSessionId");console.log("Stored session:",e);const t=e||Ys();e||localStorage.setItem("chatSessionId",t),u(t);const r=localStorage.getItem("chatCache");if(console.log("Stored cache:",r),r)try{const e=JSON.parse(r),t=Date.now(),n={};Object.entries(e).forEach((e=>{let[r,o]=e;const s=o;t-s.timestamp<y&&(n[r]=s)})),b(n),localStorage.setItem("chatCache",JSON.stringify(n)),console.log("Fresh cache set:",n)}catch{localStorage.removeItem("chatCache"),console.log("Failed to parse stored cache, removed.")}}),[]),(0,n.useEffect)((()=>{let r=null,n=null;if(c&&!d&&((async e=>{console.log("Loading session history for ID:",e);try{var r;const{data:n,error:o}=await ei.from("chat_sessions").select("data").eq("id",e).single();if(o){if("PGRST116"===o.code)return console.log("No history found for this session ID, starting fresh"),void h(!0);throw o}const s=(null==n||null===(r=n.data)||void 0===r?void 0:r.history)||[];console.log(s);const i=s.flatMap((e=>{let{query:t,response:r,timestamp:n}=e;const o=new Date(n);return[w(t,"user",o),w(r,"assistant",o)]}));t(i),h(!0),console.log("Session history restored:",i)}catch(n){h(!0),console.error("Failed to load session history",n)}})(c),console.log("loadSessionHistory")),d&&0===e.length&&!g.current)return g.current=!0,console.log("No history found, showing welcome messages."),l(!0),r=setTimeout((()=>{const e=w(ti[0],"assistant");t([e]),n=setTimeout((()=>{const e=w(ti[1],"assistant");t((t=>[].concat((0,ln.A)(t),[e]))),l(!1)}),800)}),500),()=>{r&&clearTimeout(r),n&&clearTimeout(n)}}),[c,d]),(0,n.useEffect)((()=>{var e;null===(e=p.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}),console.log("Messages updated, scrolled to bottom.")}),[e]);const A=(0,n.useCallback)((async e=>{if(e.preventDefault(),!r.trim()||s||m.current)return;const n=r.trim();t((e=>[].concat((0,ln.A)(e),[w(n,"user")]))),o(""),i(!0),l(!1),m.current=!1,console.log("User input submitted:",n);try{const o=r.toLowerCase(),s=v[o];if(s&&Date.now()-s.timestamp<y)return setTimeout((()=>{t((e=>[].concat((0,ln.A)(e),[w(s.text,"assistant")]))),i(!1)}),200),void console.log("Response served from cache:",s.text);const d=`${Zs}/functions/v1/chats`,h=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Qs}`,Accept:"text/event-stream"},body:JSON.stringify({query:n,sessionId:c})});if(!h.ok||!h.body){let e="Failed to get response";try{const t=await h.json();e=t.message||JSON.stringify(t)}catch(a){}throw new Error(`API Error (${h.status}): ${e}`)}const p=h.body.getReader(),f=new TextDecoder("utf-8");let g="",A="",_=!1;for(;;){const{value:r,done:n}=await p.read();if(n){console.log("Stream finished"),l(!1);break}const s=f.decode(r,{stream:!0}),a=(A+s).split("\n");A=s.endsWith("\n")?"":a.pop()||"";for(let d of a)if(d=d.trim(),console.log(d),d&&d.startsWith("data: ")){const r=d.substring(6).trim();if(!d.endsWith("\n"))try{JSON.parse(r)}catch(e){A="data: "+r;continue}const n=JSON.parse(r);if(_||(i(!1),_=!0,n.sessionId&&n.sessionId!==c&&(u(n.sessionId),localStorage.setItem("chatSessionId",n.sessionId),console.log("Session ID updated from response:",n.sessionId))),n.isCached&&n.text){g=n.text,t((e=>[].concat((0,ln.A)(e),[w(n.text,"assistant")]))),l(!1),l(!1),b((e=>{const t={...e,[o]:{text:n.text,timestamp:Date.now()}};return localStorage.setItem("chatCache",JSON.stringify(t)),t})),console.log("Response cached:",n.text),await p.cancel(),console.log("Stream cancelled due to cached response.");break}if(n.text){m.current||l(!0);const e=n.text;g+=e,t((t=>{const r=t[t.length-1];return r&&"assistant"===r.role&&m.current?[].concat((0,ln.A)(t.slice(0,-1)),[{...r,content:r.content+e}]):[].concat((0,ln.A)(t),[w(g,"assistant")])})),console.log("Full response updated:",g)}}}l(!1),g&&!v[o]&&b((e=>{const t={...e,[o]:{text:g,timestamp:Date.now()}};return localStorage.setItem("chatCache",JSON.stringify(t)),console.log("Full response cached:",g),t}))}catch(d){console.log(`Chat error: ${d}`),t((e=>[].concat((0,ln.A)(e),[w("Something went wrong. Please try again later.","assistant")]))),l(!1),i(!1)}finally{l(!1),i(!1),console.log("Chat process completed")}}),[r,v,c,s,w,y]);return{messages:e,input:r,setInput:o,isLoading:s,isTyping:a,handleSubmit:A,messagesEndRef:p,inputRef:f,clearSession:()=>{localStorage.removeItem("chatSessionId"),localStorage.removeItem("chatCache"),t([]),b({});const e=Ys();localStorage.setItem("chatSessionId",e),u(e),console.log("Session cleared and new session ID created:",e)}}};const ni=(0,n.lazy)((()=>r.e(168).then(r.bind(r,168)))),oi=n.memo((e=>{let{message:t,isUser:r,time:s}=e;return n.createElement(n.Suspense,{fallback:n.createElement(o.A,{size:20,color:"secondary"})},n.createElement(ni,{message:t,isUser:r,time:s}))})),si=s.i7`
  0%, 80%, 100% {
    transform: scale(0);
    opacity: 0.5;
  }
  40% {
    transform: scale(1.0);
    opacity: 1;
  }
`;function ii(e){var t;let{isOpen:r,onOpen:s}=e;const{messages:a,input:l,setInput:c,isLoading:u,isTyping:d,handleSubmit:h,messagesEndRef:p,inputRef:f,clearSession:m}=ri(),{0:g,1:v}=(0,n.useState)(!1),[b,y]=n.useState(null),A=(0,n.useRef)(null);(0,n.useEffect)((()=>{let e;return r&&(e=setTimeout((()=>{var e;null===(e=f.current)||void 0===e||e.focus(),console.log("Chat open state changed:",r)}),100)),()=>{e&&clearTimeout(e)}}),[r]);const _=(0,n.useMemo)((()=>a.map(((e,t)=>n.createElement(i.A,{key:`${e.role}-${t}-${e.timestamp.getTime()}`,sx:{display:"flex",justifyContent:"user"===e.role?"flex-end":"flex-start",mb:1.5}},n.createElement(oi,{message:e.content,isUser:"user"===e.role,time:e.timestamp.toLocaleTimeString([],{hour:"numeric",minute:"2-digit",hour12:!0}).toLowerCase()}))))),[a]);return n.createElement(w,{sx:{position:"fixed",right:0,bottom:"2%",width:"95%",minHeight:"320px",m:1,"@media (min-width: 600px)":{right:"6%",bottom:"3%",width:"100%",m:0},"@media (max-width: 400px)":{bottom:"1%"},maxWidth:400,maxHeight:"75vh",display:"flex",flexDirection:"column",borderRadius:2,overflow:"hidden",zIndex:1400,boxShadow:"0 4px 20px rgba(199, 21, 133, 0.15)"},elevation:4,ref:A},n.createElement(S,{className:"chatbot-header",sx:{px:2,py:1.5,borderBottom:1,borderColor:"divider",backgroundColor:"#c71585",color:"white"}},n.createElement(i.A,{display:"flex",justifyContent:"space-between",alignItems:"center"},n.createElement(x.A,{variant:"h6"},"Portfolio Assistant"+(0===a.length?"":": EVE")),n.createElement(i.A,null,n.createElement(T.A,{size:"small",onClick:()=>s(!1),sx:{color:"white",mr:1,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}}},n.createElement(an.A,{fontSize:"small"})),n.createElement(T.A,{size:"small",onClick:()=>{v(!0),A.current&&y(A.current)},sx:{color:"white","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}}},n.createElement(sn.A,{fontSize:"small"}))))),n.createElement(i.A,{sx:{flexGrow:1,overflowY:"auto",p:2,display:"flex",flexDirection:"column",maxHeight:"calc(75vh - 130px)"}},n.createElement(i.A,{sx:{p:1,mb:2,backgroundColor:"#f8f8f8",color:"#787878",fontSize:"0.75rem"}},"This portfolio assistant is in beta mode and uses free resources, so responses might be incorrect or incomplete."),_,u&&n.createElement(i.A,{sx:{display:"flex",alignItems:"center",alignSelf:"flex-start",backgroundColor:"#ede8efc2",borderRadius:2,px:2,py:1,mb:1.5}},n.createElement(o.A,{size:20,color:"secondary"})),d&&"assistant"===(null===(t=a[a.length-1])||void 0===t?void 0:t.role)&&n.createElement(li,null),n.createElement("div",{ref:p})),n.createElement(I,null),n.createElement("form",{onSubmit:h,className:"chatbot-form"},n.createElement(i.A,{sx:{display:"flex",alignItems:"center",p:2,backgroundColor:"background.paper"}},n.createElement(rn,{fullWidth:!0,inputRef:f,value:l,onChange:e=>c(e.target.value),placeholder:"Ask me something...",disabled:u,size:"small",sx:{mr:1},"data-gtm-track":"chat-input"}),n.createElement(T.A,{type:"submit",disabled:u||!l.trim(),color:"primary",sx:{color:"#c71585","&:hover":{backgroundColor:"rgba(199, 21, 133, 0.08)"},"&.Mui-disabled":{color:"rgba(199, 21, 133, 0.38)"}}},n.createElement(on.A,null)))),g&&n.createElement(i.A,{sx:{position:"absolute",top:"64px",left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.9)",zIndex:1800,display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(ai,{onExit:()=>v(!1),onConfirm:()=>{m(),s(!1),v(!1),y(null)},open:g,anchorEl:b})))}function ai(e){let{onExit:t,onConfirm:r}=e;return n.createElement(i.A,{sx:{backgroundColor:"#f8e6f3",py:4,px:1,borderRadius:2,width:"95%",maxWidth:320,"@media(min-width: 600px)":{width:"80%",px:4},textAlign:"center",boxShadow:"0 2px 10px rgba(199, 21, 133, 0.15)"}},n.createElement(x.A,{variant:"h6",sx:{color:"#606060",mb:2,fontWeight:500}},"End this conversation?"),n.createElement(x.A,{variant:"body1",sx:{color:"#787878",mb:3}},"Your chat history will be cleared when you leave."),n.createElement(i.A,{display:"flex",justifyContent:"center",gap:2},n.createElement(nn.A,{variant:"outlined",onClick:t,sx:{color:"#606060",borderColor:"#d3d3d3","&:hover":{backgroundColor:"rgba(199, 21, 133, 0.08)",borderColor:"#c71585"},borderRadius:6,px:3}},"Cancel"),n.createElement(nn.A,{variant:"contained",onClick:r,sx:{backgroundColor:"#f0b6d5",color:"#606060","&:hover":{backgroundColor:"#e8a1c7"},boxShadow:"none",borderRadius:6,px:3}},"End Chat")))}function li(){const e={display:"inline-block",width:"8px",height:"8px",margin:"0 2px",backgroundColor:"grey",borderRadius:"50%",opacity:.5,animation:`${si} 1.4s infinite ease-in-out both`};return n.createElement(i.A,{sx:{display:"inline-block",paddingLeft:"10px"}},n.createElement(i.A,{component:"span",sx:{...e,animationDelay:"-0.32s"}}),n.createElement(i.A,{component:"span",sx:{...e,animationDelay:"-0.16s"}}),n.createElement(i.A,{component:"span",sx:e}))}}}]);
//# sourceMappingURL=352-a2aa5432ea10b926926e.js.map